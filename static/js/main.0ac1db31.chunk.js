(this.webpackJsonpnwitter=this.webpackJsonpnwitter||[]).push([[0],{17:function(e,t,n){"use strict";n.r(t),n.d(t,"firebaseApp",(function(){return s})),n.d(t,"authService",(function(){return o})),n.d(t,"dbService",(function(){return u})),n.d(t,"storageService",(function(){return d}));var r=n(54),c=n(55),a=n(56),i=n(57),s=Object(r.a)({apiKey:"AIzaSyC6d2rzFtMpx6Y3k-usaOOK2onpxyN1mmU",authDomain:"ntwitter-8313d.firebaseapp.com",projectId:"ntwitter-8313d",storageBucket:"ntwitter-8313d.appspot.com",messagingSenderId:"135453840930",appId:"1:135453840930:web:735c0d5f669e53cd9a5c7b"}),o=Object(c.a)(),u=Object(a.a)(),d=Object(i.a)(s)},80:function(e,t,n){"use strict";n.r(t);var r,c,a,i,s,o,u,d,b,l,p,j,x,h,f,O,m,g,w,v,y,k,S,U,C,N,R,L,P,I,z,D,A=n(6),E=n(53),F=n.n(E),M=n(0),B=n.n(M),q=n(1),_=n(11),X=n(13),Y=n(23),Z=n(17),V=n(14),H=V.query,T=V.collection,W=V.where,J=V.getDocs,K=n(17).dbService,G=function(){var e=Object(q.a)(B.a.mark((function e(t){var n,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}return e.next=3,H(T(K,"user"),W("uid","==",t.uid));case 3:return n=e.sent,e.next=6,J(n);case 6:return e.next=8,e.sent.docs[0];case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=n(12),$=n(33),ee=n(19),te=n(14),ne=n(21),re=n(15),ce=n(28),ae=n(32),ie=Q.b.div(r||(r=Object(X.a)(["\n  background-color: white;\n  position: relative;\n  outline: none;\n  padding: 12px 5px;\n  margin: 12px 0px;\n  border-radius: 12px;\n  border: 2px solid white;\n  box-shadow: inset 0px 1px 1px rgba(0, 0, 0, 0.33);\n  transition: all 0.5s;\n"]))),se=Q.b.div(c||(c=Object(X.a)(["\n  display: flex;\n  > div {\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n  }\n"]))),oe=(Q.b.div(a||(a=Object(X.a)(["\n  border-top: 2px solid black;\n"]))),Q.b.button(i||(i=Object(X.a)(["\n  appearance: button;\n\n  background-color: ",";\n\n  border: solid transparent;\n  border-radius: min(16px, 3vw);\n  border-width: 0 0 min(4px, 0.8vw);\n  box-sizing: border-box;\n  color: #ffffff;\n  cursor: pointer;\n  display: inline-block;\n  font-family: din-round, sans-serif;\n  font-size: min(12px, 2vw);\n  font-weight: 700;\n  letter-spacing: 0.8px;\n  line-height: min(20px, 4vw);\n  margin: 0;\n  outline: none;\n  overflow: visible;\n  padding: 3px min(16px, 3vw);\n  text-align: center;\n  text-transform: uppercase;\n  touch-action: manipulation;\n  transform: translateZ(0);\n  transition: filter 0.2s;\n  user-select: none;\n  -webkit-user-select: none;\n  vertical-align: middle;\n  white-space: nowrap;\n  /* width: 100%; */\n  :after {\n    background-clip: padding-box;\n    background-color: ",';\n    border: solid transparent;\n    border-radius: 16px;\n    border-width: 0 0 4px;\n    bottom: -4px;\n    content: "";\n    left: 0;\n    position: absolute;\n    right: 0;\n    top: 0;\n    z-index: -1;\n  }\n  :main,\n  :focus {\n    user-select: auto;\n  }\n  :hover:not(:disabled) {\n    filter: brightness(1.1);\n  }\n  :disabled {\n    cursor: auto;\n  }\n'])),(function(e){return"Cancel"===e.children?"#D54D52":"#1899d6"}),(function(e){return"Cancel"===e.children?"#D54D52":"#1cb0f6"}))),ue=Q.b.img(s||(s=Object(X.a)(["\n  width: 50px;\n  border-radius: 50%;\n"]))),de=Object(Q.b)(oe)(o||(o=Object(X.a)([""]))),be=Object(Q.b)(oe)(u||(u=Object(X.a)(["\n  display: ",";\n"])),(function(e){return e.showEdit?"block":"none"})),le=Q.b.div(d||(d=Object(X.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  /* transform: translateX(370px); */\n"]))),pe=Q.b.div(b||(b=Object(X.a)(['\n  display: flex;\n  flex-direction: column;\n  img {\n    margin-top: 15px;\n    width: 100%;\n    border-radius: 15px;\n    max-height: 500px;\n  }\n  input[type="text"] {\n    font-size: 16px;\n    margin-left: 12px;\n  }\n']))),je=Q.b.span(l||(l=Object(X.a)(["\n  display: inline-block;\n  font-weight: 600;\n  margin-left: 12px;\n  max-width: 100px;\n  white-space: nowrap;\n  overflow: hidden;\n  .like {\n    color: tomato;\n  }\n"]))),xe=Q.b.span(p||(p=Object(X.a)(["\n  margin-left: 12px;\n"]))),he=n(81),fe=n(5),Oe=function(e){var t=e.nweetObj,n=e.isOwner,r=e.userObj,c=(e.userSnapShot,Object(ae.a)()),a=c.register,i=c.getValues,s=c.handleSubmit,o=Object(A.useState)([]),u=Object(_.a)(o,2),d=(u[0],u[1]),b=Object(A.useState)(""),l=Object(_.a)(b,2),p=l[0],j=l[1],x=Object(A.useState)(!1),h=Object(_.a)(x,2),f=h[0],O=h[1],m=Object(A.useState)(""),g=Object(_.a)(m,2),w=g[0],v=g[1],y=Object(A.useState)(!1),k=Object(_.a)(y,2),S=k[0],U=k[1],C=Object(A.useState)(t.likes.includes(r.uid)),N=Object(_.a)(C,2),R=N[0],L=N[1];Object(A.useEffect)((function(){t.comments.map(function(){var e=Object(q.a)(B.a.mark((function e(t){var n,r,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.query)(Object(te.collection)(Z.dbService,"user"),Object(te.where)("uid","==",t.uid));case 2:return n=e.sent,e.next=5,Object(te.getDocs)(n);case 5:r=e.sent,c={id:t.id,uid:t.uid,data:r.docs[0].data(),text:t.text},d((function(e){return[c].concat(Object(re.a)(e))}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),z()}),[]);var P=function(){var e=Object(q.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this nweet?")){e.next=8;break}if(e.t0=t.attachmentUrl,!e.t0){e.next=6;break}return e.next=6,Object(ce.a)(Object(ce.d)(Z.storageService,t.attachmentUrl));case 6:return e.next=8,Object(te.deleteDoc)(Object(te.doc)(Z.dbService,"nweets/".concat(t.id)));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(q.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(te.updateDoc)(Object(te.doc)(Z.dbService,"nweets/".concat(t.id)),{text:i("newNweet")}),U(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(q.a)(B.a.mark((function e(){var n,r,c,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.query)(Object(te.collection)(Z.dbService,"user"),Object(te.where)("uid","==",t.creatorId));case 2:return n=e.sent,e.next=5,Object(te.getDocs)(n);case 5:r=e.sent,c=r.docs[0].data().photoURL,a=r.docs[0].data().displayName,v(a),j(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(q.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R?Object(te.updateDoc)(Object(te.doc)(Z.dbService,"nweets/".concat(t.id)),{likes:t.likes.filter((function(e){return e!==r.uid}))}):Object(te.updateDoc)(Object(te.doc)(Z.dbService,"nweets/".concat(t.id)),{likes:[r.uid].concat(Object(re.a)(t.likes))}),L((function(e){return!e}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(fe.jsx)("div",{children:Object(fe.jsx)(ie,{children:Object(fe.jsxs)(se,{children:[Object(fe.jsx)($.b,{to:n?"/profile":t.creatorId,children:Object(fe.jsx)(ue,{src:p})}),Object(fe.jsxs)("div",{children:[Object(fe.jsxs)(pe,{children:[Object(fe.jsx)(je,{children:w}),Object(fe.jsx)(je,{onClick:D,children:Object(fe.jsxs)("span",{children:[R?"\ud83e\udde1":"\ud83e\udd0d",t.likes?t.likes.length:0]})}),S?Object(fe.jsx)("form",{onSubmit:s(I),children:Object(fe.jsx)("input",Object(ne.a)(Object(ne.a)({id:"editNweet"},a("newNweet",{value:t.text})),{},{type:"text",placeholder:"Edit your nweet"}))}):Object(fe.jsx)(xe,{children:t.text}),t.attachmentUrl&&Object(fe.jsx)("img",{src:t.attachmentUrl})]}),n?Object(fe.jsxs)(le,{showEdit:f,children:[Object(fe.jsx)(de,{onClick:function(){O((function(e){return e&&U(!1),!e}))},showEdit:f,children:f?"Cancel":"Edit"}),Object(fe.jsx)(be,{showEdit:f,onClick:P,children:"Delete Nweet"}),Object(fe.jsx)(be,{showEdit:f,onClick:function(){U((function(e){return!e}))},children:"Edit Nweet"}),Object(fe.jsx)(be,{showEdit:f,onClick:s(I),children:"Update Nweet"})]}):Object(fe.jsx)(le,{children:Object(fe.jsx)(de,{children:"Show"})})]})]})})})},me=Q.b.button(j||(j=Object(X.a)(["\n  outline: none;\n  height: 30px;\n  text-align: center;\n  width: min(30vw, 180px);\n  border-radius: 12px;\n  border: 1px solid #04aaff;\n  box-shadow: inset 0px 1px 1px rgba(0, 0, 0, 0.33);\n  background-color: white;\n  cursor: pointer;\n  color: #1cb2ff;\n  font-size: 15px;\n  font-weight: 600;\n  transition: color 0.2s;\n  :hover {\n    background-color: #1cb2ff;\n    color: white;\n  }\n"]))),ge=Q.b.div(x||(x=Object(X.a)(["\n  position: relative;\n  margin-top: 80px;\n  width: min(90vw, 520px);\n  padding: 22px 22px;\n  border-radius: 15px;\n  background-color: #a5c3dd;\n"]))),we=Q.b.div(h||(h=Object(X.a)(["\n  margin-bottom: 5px;\n  bottom: -10px;\n  display: flex;\n  gap: 30px;\n  justify-content: center;\n"]))),ve=function(e){var t=e.nweets,n=e.setPage,r=function(e){window.scrollTo(0,0);var r=e.target.id;n("prev"==r?function(e){return e<=1?1:e-1}:function(e){return t.length<5?e:e+1})};return Object(fe.jsxs)(we,{children:[Object(fe.jsx)(me,{id:"prev",onClick:r,children:"\u25c0"}),Object(fe.jsx)(me,{id:"next",onClick:r,children:"\u25b6"})]})},ye=n(14),ke=ye.query,Se=ye.collection,Ue=ye.orderBy,Ce=ye.limit,Ne=ye.getDocs,Re=ye.startAfter,Le=ye.onSnapshot,Pe=ye.where,Ie=n(17).dbService,ze=function(){var e=Object(q.a)(B.a.mark((function e(t,n,r,c){var a,i,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t<1)){e.next=2;break}return e.abrupt("return");case 2:a=c?ke(Se(Ie,"nweets"),Ue("createdAt","desc"),Pe("creatorId","==",c),Ce(5)):ke(Se(Ie,"nweets"),Ue("createdAt","desc"),Ce(5));case 3:if(!(t>1)){e.next=12;break}return e.next=6,Ne(a);case 6:i=e.sent,s=i.docs[i.docs.length-1],a=c?ke(Se(Ie,"nweets"),Ue("createdAt","desc"),Pe("creatorId","==",c),Re(s),Ce(5)):ke(Se(Ie,"nweets"),Ue("createdAt","desc"),Re(s),Ce(5)),t-=1,e.next=3;break;case 12:return e.next=14,Le(a,(function(e){var t=e.docs.map((function(e){return Object(ne.a)({id:e.id},e.data())}));t.length<1&&n((function(e){return e-1})),r(t)}));case 14:case"end":return e.stop()}}),e)})));return function(t,n,r,c){return e.apply(this,arguments)}}(),De=Q.b.div(f||(f=Object(X.a)(["\n  display: flex;\n  gap: 15px;\n  img {\n    border-radius: 25px;\n  }\n  span {\n    font-size: 25px;\n    font-weight: 600;\n  }\n"]))),Ae=function(e){e.refreshUser;var t,n=e.userObj,r=Object(A.useState)([]),c=Object(_.a)(r,2),a=c[0],i=c[1],s=Object(A.useState)(1),o=Object(_.a)(s,2),u=o[0],d=o[1],b=Object(A.useState)(""),l=Object(_.a)(b,2),p=l[0],j=l[1],x=Object(A.useState)(""),h=Object(_.a)(x,2),f=h[0],O=h[1],m=Object(ee.g)().uid,g=function(){var e=Object(q.a)(B.a.mark((function e(){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.query)(Object(te.collection)(Z.dbService,"user"),Object(te.where)("uid","==",m));case 2:return n=e.sent,e.next=5,Object(te.getDocs)(n);case 5:t=e.sent,j(t.docs[0].data().photoURL),O(t.docs[0].data().displayName);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(A.useEffect)((function(){g()})),Object(A.useEffect)((function(){ze(u,d,i,m)}),[u]),Object(fe.jsxs)(ge,{children:[Object(fe.jsxs)(De,{children:[Object(fe.jsx)("img",{src:p,width:"150px"}),Object(fe.jsxs)("span",{children:[f,"'s Profile"]})]}),a.map((function(e){return Object(fe.jsx)(Oe,{nweetObj:e,isOwner:!1,userObj:n},e.id)})),Object(fe.jsx)(ve,{nweets:a,setPage:d})]})},Ee=n(62),Fe=(n(77),function(e){var t=e.attachment,n=e.setAttachment,r=e.setIsCrop,c=Object(A.useState)(t),a=Object(_.a)(c,2),i=a[0],s=(a[1],Object(A.useState)("#")),o=Object(_.a)(s,2),u=(o[0],o[1],Object(A.useState)()),d=Object(_.a)(u,2),b=d[0],l=d[1];return Object(fe.jsx)(fe.Fragment,{children:Object(fe.jsx)(ie,{children:Object(fe.jsxs)("div",{children:[Object(fe.jsx)(Ee.a,{style:{height:400,width:"100%",zIndex:1},zoomTo:.1,initialAspectRatio:1,preview:".img-preview",src:i,viewMode:1,dragMode:"move",minCropBoxHeight:10,minCropBoxWidth:10,cropBoxResizable:!1,background:!1,responsive:!0,autoCropArea:1,checkOrientation:!1,onInitialized:function(e){l(e)},guides:!0}),Object(fe.jsx)(le,{children:Object(fe.jsx)(oe,{onClick:function(){"undefined"!==typeof b&&(n(b.getCroppedCanvas().toDataURL()),r(!1))},children:"Crop Image"})})]})})})}),Me=Q.b.form(O||(O=Object(X.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),Be=Q.b.input(m||(m=Object(X.a)(["\n  outline: none;\n  padding: 12px 5px;\n  margin: 12px 0px;\n  border-radius: 12px;\n  border: 2px solid white;\n  box-shadow: inset 0px 1px 1px rgba(0, 0, 0, 0.33);\n"]))),qe=Object(Q.b)(Be)(g||(g=Object(X.a)(["\n  background-color: white;\n  cursor: pointer;\n  color: #1cb2ff;\n  font-size: 15px;\n  font-weight: 600;\n  transition: all 0.2s;\n  :hover {\n    background-color: #1cb2ff;\n    color: white;\n  }\n"]))),_e=Q.b.button(w||(w=Object(X.a)(['\n  background-color: #222;\n  border-radius: 4px;\n  border-style: none;\n  box-sizing: border-box;\n  color: #fff;\n  cursor: pointer;\n  display: inline-block;\n  font-family: "Farfetch Basis", "Helvetica Neue", Arial, sans-serif;\n  font-size: 16px;\n  font-weight: 700;\n  line-height: 1.5;\n  margin: 0;\n  max-width: none;\n  min-height: 44px;\n  min-width: 10px;\n  outline: none;\n  overflow: hidden;\n  padding: 9px 20px 8px;\n  position: relative;\n  text-align: center;\n  text-transform: none;\n  user-select: none;\n  -webkit-user-select: none;\n  touch-action: manipulation;\n  width: 100%;\n  :hover {\n    opacity: 0.75;\n  }\n']))),Xe=Q.b.div(v||(v=Object(X.a)(['\n  input[type="file"] {\n    width: 0px;\n  }\n  display: flex;\n  flex-direction: column;\n  input[type="text"] {\n    outline: none;\n    border: none;\n    border-radius: 15px;\n    margin-right: 15px;\n    padding: 5px 15px;\n    height: 50px;\n    width: 100%;\n    font-size: 17px;\n    font-weight: 600;\n  }\n  form {\n    margin-top: 15px;\n    display: flex;\n    justify-content: space-between;\n  }\n']))),Ye=Object(Q.b)(oe)(y||(y=Object(X.a)([""]))),Ze=Object(Q.b)(_e)(k||(k=Object(X.a)(["\n  cursor: pointer;\n  position: absolute;\n  right: 15px;\n  width: 100px;\n  font-size: 15px;\n  cursor: pointer;\n  position: absolute;\n  right: 15px;\n"]))),Ve=Q.b.label(S||(S=Object(X.a)(["\n  margin-top: 25px;\n  display: block;\n  position: relative;\n  background-image: ",";\n  background-size: 100px 100px;\n  width: 100px;\n  height: 100px;\n  border-radius: 50%;\n  cursor: pointer;\n  button {\n    position: absolute;\n    top: -30px;\n    left: -15px;\n    white-space: nowrap;\n  }\n"])),(function(e){return"url(".concat(e.img,")")})),He=function(e){var t=e.refreshUser,n=e.userObj,r=e.userSnapShot,c=Object(ae.a)(),a=c.register,i=c.handleSubmit,s=c.setValue,o=c.getValues;s("newDisplayName",n.displayName);var u=Object(A.useState)(1),d=Object(_.a)(u,2),b=d[0],l=d[1],p=Object(A.useState)(""),j=Object(_.a)(p,2),x=j[0],h=j[1],f=Object(A.useState)(!1),O=Object(_.a)(f,2),m=O[0],g=O[1],w=Object(A.useState)([]),v=Object(_.a)(w,2),y=v[0],k=v[1];Object(A.useEffect)((function(){ze(b,l,k,n.uid)}),[b]);var S=Object(ee.f)(),U=function(){var e=Object(q.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Y.i)(Z.authService);case 2:S.push("/"),window.location.reload();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(q.a)(B.a.mark((function e(){var c,a,i,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=o(),a=c.newDisplayName,i=null,""===x){e.next=9;break}return s=Object(ce.d)(Z.storageService,"".concat(n.uid,"/profile")),e.next=6,Object(ce.e)(s,x,"data_url");case 6:return e.next=8,Object(ce.b)(s);case 8:i=e.sent;case 9:if(n.displayName===a&&n.photoUrl===i){e.next=20;break}return e.t0=Y.j,e.next=13,Z.authService.currentUser;case 13:return e.t1=e.sent,e.t2={displayName:a,photoURL:i},e.next=17,(0,e.t0)(e.t1,e.t2);case 17:return e.next=19,Object(te.updateDoc)(Object(te.doc)(Z.dbService,"user/".concat(r.id)),{displayName:a,photoURL:i});case 19:t();case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){return h(null)};return Object(fe.jsx)(fe.Fragment,{children:Object(fe.jsxs)(ge,{children:[Object(fe.jsxs)(Xe,{children:[Object(fe.jsx)(Ve,{htmlFor:"profilePhoto",img:x||n.photoUrl,children:Object(fe.jsx)(oe,{children:"Change Photo"})}),m&&x&&Object(fe.jsx)(Fe,{attachment:x,setAttachment:h,setIsCrop:g}),Object(fe.jsxs)("form",{onSubmit:i(C),children:[Object(fe.jsx)("input",Object(ne.a)(Object(ne.a)({},a("newDisplayName")),{},{maxLength:"6",type:"text",placeholder:"Display name"})),Object(fe.jsx)("input",Object(ne.a)(Object(ne.a)({},a("profilePhoto")),{},{onChange:function(e){g(!0);var t=e.target.files[0];if(t.size>5242880)return alert("\ud504\ub85c\ud544 \uc0ac\uc774\uc988\ub294 5MB \uc774\ub0b4\ub85c \ub4f1\ub85d \uac00\ub2a5\ud569\ub2c8\ub2e4."),void N();var n=new FileReader;n.onloadend=function(e){var t=e.currentTarget.result;h(t)},n.readAsDataURL(t)},id:"profilePhoto",type:"file",accept:"image/*"})),Object(fe.jsx)(Ye,{onClick:i(C),children:"Update"})]}),Object(fe.jsx)(Ze,{onClick:U,children:"Log Out"})]}),y.map((function(e){return Object(fe.jsx)(Oe,{nweetObj:e,isOwner:e.creatorId===n.uid,userObj:n},e.id)})),Object(fe.jsx)(ve,{nweets:y,setPage:l})]})})},Te=n(40),We=n(35),Je=Q.b.div(U||(U=Object(X.a)(["\n  width: 300px;\n  display: flex;\n  flex-direction: column;\n"]))),Ke=Q.b.h4(C||(C=Object(X.a)([""]))),Ge=function(){var e=Object(ae.a)(),t=e.register,n=e.handleSubmit,r=e.getValues,c=Object(A.useState)(!1),a=Object(_.a)(c,2),i=a[0],s=a[1],o=Object(A.useState)(""),u=Object(_.a)(o,2),d=u[0],b=u[1],l=function(){var e=Object(q.a)(B.a.mark((function e(){var t,n,c,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r(),n=t.email,c=t.password,e.prev=1,!i){e.next=10;break}return e.next=5,Object(Y.c)(Z.authService,n,c);case 5:return a=e.sent,e.next=8,Object(te.addDoc)(Object(te.collection)(Z.dbService,"user"),{uid:a.user.uid,photoURL:a.user.photoURL?a.user.photoURL:"https://img1.daumcdn.net/thumb/R1280x0.fjpg/?fname=http://t1.daumcdn.net/brunch/service/user/7r5X/image/9djEiPBPMLu_IvCYyvRPwmZkM1g.jpg",displayName:a.user.displayName?a.user.displayName:a.user.email.split("@")[0],nweets:[]});case 8:e.next=12;break;case 10:return e.next=12,Object(Y.g)(Z.authService,n,c);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),b(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}();return Object(fe.jsxs)(Je,{children:[Object(fe.jsxs)(Me,{onSubmit:n(l),children:[Object(fe.jsx)(Be,Object(ne.a)(Object(ne.a)({},t("email")),{},{type:"email",placeholder:"Email",required:!0})),Object(fe.jsx)(Be,Object(ne.a)(Object(ne.a)({},t("password")),{},{type:"password",placeholder:"Password",required:!0})),Object(fe.jsx)(qe,{className:"submit",type:"submit",value:i?"Create Account":"Log In",required:!0})]}),Object(fe.jsx)(_e,{onClick:function(){return s((function(e){return!e}))},children:i?"LogIn":"CreateAccount"}),Object(fe.jsx)(Ke,{children:d})]})},Qe=Q.b.div(N||(N=Object(X.a)(["\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n  flex-direction: column;\n  background-color: ",";\n  opacity: 0.9;\n  height: 550px;\n  border-radius: 25px;\n"])),"#F8F8F8"),$e=Q.b.button(R||(R=Object(X.a)(["\n  position: relative;\n  background-color: #ffffff;\n  border-radius: 15px;\n  padding: 15px;\n  margin: 10px;\n  height: 50px;\n  font-size: 13px;\n  font-weight: bold;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: all 0.2s;\n  cursor: pointer;\n"]))),et=Q.b.div(L||(L=Object(X.a)(["\n  display: flex;\n  .github:hover {\n    background-color: #333333;\n    color: #ffffff;\n  }\n  .google:hover {\n    background-color: #de463b;\n    color: #ffffff;\n  }\n"]))),tt=function(e){var t=function(){var e=Object(q.a)(B.a.mark((function e(t){var n,r,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.className,console.log(n),"google"===n?(r=new Y.b,console.log("try google")):"github"===n&&(r=new Y.a,console.log("try github")),e.prev=3,e.next=6,Object(Y.h)(Z.authService,r);case 6:return c=e.sent,e.next=9,Object(Y.d)(c).isNewUser;case 9:if(!e.sent){e.next=12;break}return e.next=12,Object(te.addDoc)(Object(te.collection)(Z.dbService,"user"),{uid:c.user.uid,photoURL:c.user.photoURL?c.user.photoURL:"https://img1.daumcdn.net/thumb/R1280x0.fjpg/?fname=http://t1.daumcdn.net/brunch/service/user/7r5X/image/9djEiPBPMLu_IvCYyvRPwmZkM1g.jpg",displayName:c.user.displayName?c.user.displayName:c.user.email.split("@")[0],nweets:[]});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(fe.jsxs)(Qe,{children:[Object(fe.jsx)(We.a,{icon:Te.c,color:"#04AAFF",size:"3x"}),Object(fe.jsx)(Ge,{}),Object(fe.jsxs)(et,{children:[Object(fe.jsxs)($e,{onClick:t,name:"google",className:"google",children:[Object(fe.jsx)("span",{className:"google",children:"Continue With Google \xa0 \xa0 "}),Object(fe.jsx)(We.a,{className:"google",icon:Te.b,size:"2x"})]}),Object(fe.jsxs)($e,{onClick:t,name:"github",className:"github",children:[Object(fe.jsx)("span",{className:"github",children:"Continue With github \xa0 \xa0"}),Object(fe.jsx)(We.a,{className:"github",icon:Te.a,size:"2x"})]})]})]})},nt=n(64),rt=Q.b.form(P||(P=Object(X.a)(['\n  position: relative;\n  width: min(91vw, 525px);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  label {\n    position: absolute;\n    right: min(22vw, 122px);\n    top: 22%;\n    color: #a6a3a1;\n  }\n  input[type="text"] {\n    box-sizing: border-box;\n    word-break: break-all;\n    word-wrap: break-word;\n    text-overflow: clip;\n    width: min(70vw, 440px);\n    height: min(10vw, 50px);\n    :focus {\n      height: min(15vw, 75px);\n    }\n    transition: all 0.5s;\n  }\n  input[type="file"] {\n    display: flex;\n    width: 0px;\n  }\n  .custom-file-upload {\n    display: inline-block;\n    padding: 6px 12px;\n    cursor: pointer;\n  }\n  input[type="submit"] {\n    padding: 0;\n    font-size: min(3vw, 15px);\n    width: min(15vw, 75px);\n    height: min(10vw, 50px);\n  }\n']))),ct=function(e){var t=e.setIsCrop,n=e.setAttachment;return Object(fe.jsx)("input",{id:"file-upload",onChange:function(e){t(!0),n(null);var r=e.target.files[0];if(r.size>2097152)return alert("\ucca8\ubd80\ud30c\uc77c \uc0ac\uc774\uc988\ub294 2MB \uc774\ub0b4\ub85c \ub4f1\ub85d \uac00\ub2a5\ud569\ub2c8\ub2e4."),void n(null);var c=new FileReader;c.onloadend=function(e){var t=e.currentTarget.result;n(t)},c.readAsDataURL(r),e.target.value=""},type:"file",accept:"image/*"})},at=function(e){var t=e.userObj,n=e.refreshUser,r=Object(A.useState)(null),c=Object(_.a)(r,2),a=c[0],i=c[1],s=Object(A.useState)(!1),o=Object(_.a)(s,2),u=o[0],d=o[1],b=Object(ae.a)(),l=b.register,p=b.handleSubmit,j=b.getValues,x=b.setValue,h=function(){var e=Object(q.a)(B.a.mark((function e(){var r,c,s,o,u;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=j(),c=r.nweet,null!==a||c){e.next=4;break}return alert("Input Nweet or Photo please"),e.abrupt("return");case 4:if(s=null,null===a){e.next=12;break}return o=Object(ce.d)(Z.storageService,"".concat(t.uid,"/").concat(Object(he.a)())),e.next=9,Object(ce.e)(o,a,"data_url");case 9:return e.next=11,Object(ce.b)(o);case 11:s=e.sent;case 12:return u={text:c,likes:[],comments:[],createdAt:Date.now(),attachmentUrl:s,creatorId:t.uid,creatorName:t.displayName,photoURL:t.photoURL?t.photoURL:"https://img1.daumcdn.net/thumb/R1280x0.fjpg/?fname=http://t1.daumcdn.net/brunch/service/user/7r5X/image/9djEiPBPMLu_IvCYyvRPwmZkM1g.jpg"},e.next=15,Object(te.addDoc)(Object(te.collection)(Z.dbService,"nweets"),u);case 15:e.sent,n(),i(null),x("nweet","");case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsxs)(rt,{onSubmit:p(h),children:[Object(fe.jsx)(Be,Object(ne.a)(Object(ne.a)({},l("nweet")),{},{type:"text",placeholder:"What's on your mind?",maxLength:80})),Object(fe.jsxs)("label",{htmlFor:"file-upload",className:"custom-file-upload",children:[Object(fe.jsx)(We.a,{icon:nt.a,size:"lg"}),Object(fe.jsx)(ct,{setAttachment:i,setIsCrop:d})]}),Object(fe.jsx)(qe,{type:"submit",value:"Nweet"})]}),a&&u&&Object(fe.jsx)(Fe,{attachment:a,setAttachment:i,setIsCrop:d}),a&&!u&&Object(fe.jsx)(ie,{children:Object(fe.jsxs)("div",{children:[Object(fe.jsx)(pe,{children:Object(fe.jsx)("img",{src:a})}),Object(fe.jsxs)(le,{children:[Object(fe.jsx)(oe,{onClick:function(){return i(null)},children:"Cancel"}),Object(fe.jsx)(oe,{onClick:function(){return d(!0)},children:"Crop Size"})]})]})})]})},it=function(e){var t=e.userObj,n=e.page,r=e.setPage,c=e.userSnapShot,a=e.refreshUser,i=Object(A.useState)([]),s=Object(_.a)(i,2),o=s[0],u=s[1];return Object(A.useEffect)(Object(q.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ze(n,r,u);case 1:case"end":return e.stop()}}),e)}))),[n]),Object(fe.jsx)(fe.Fragment,{children:Object(fe.jsxs)(ge,{children:[Object(fe.jsx)(at,{userObj:t,userSnapShot:c,refreshUser:a}),o.map((function(e){return Object(fe.jsx)(Oe,{nweetObj:e,isOwner:e.creatorId===t.uid,userObj:t,userSnapShot:c,refreshUser:a},e.id)})),Object(fe.jsx)(ve,{nweets:o,setPage:r})]})})},st=Q.b.div(I||(I=Object(X.a)(["\n  padding: 0px 20px 10px 20px;\n  height: 70px;\n  border-radius: 25px;\n  /* background-color: cyan; */\n  position: absolute;\n  top: 0px;\n  display: flex;\n  justify-content: space-between;\n  width: 91vw;\n  max-width: 525px;\n  align-items: center;\n  img {\n    border-radius: 50%;\n    max-width: 48px;\n    max-height: 48px;\n  }\n\n  span {\n    display: none;\n  }\n  a {\n    color: white;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n  }\n  a:hover {\n    span {\n      display: inline-block;\n      z-index: 1;\n      font-weight: 600;\n      background-color: #9bd2c3;\n      padding: 5px;\n      top: 40px;\n      border-radius: 5px;\n      position: absolute;\n      white-space: nowrap;\n      overflow: hidden;\n      max-width: 100px;\n    }\n  }\n"]))),ot=function(e){var t=e.userObj,n=e.setPage;return Object(fe.jsxs)(st,{children:[Object(fe.jsxs)($.b,{to:"/",onClick:function(){n(1)},children:[Object(fe.jsx)("span",{children:"home"}),Object(fe.jsx)(We.a,{icon:Te.c,color:"#04AAFF",size:"2x"})]}),Object(fe.jsxs)($.b,{to:"/profile",children:[Object(fe.jsx)("span",{children:null===t||void 0===t?void 0:t.displayName}),Object(fe.jsx)("img",{src:(null===t||void 0===t?void 0:t.photoUrl)?t.photoUrl:"https://img1.daumcdn.net/thumb/R1280x0.fjpg/?fname=http://t1.daumcdn.net/brunch/service/user/7r5X/image/9djEiPBPMLu_IvCYyvRPwmZkM1g.jpg"})]})]})},ut=Q.b.div(z||(z=Object(X.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: aliceblue;\n  flex-direction: column;\n"]))),dt=function(e){var t=e.refreshUser,n=e.isLoggedIn,r=e.userObj,c=e.userSnapShot,a=Object(A.useState)(1),i=Object(_.a)(a,2),s=i[0],o=i[1];return Object(fe.jsx)($.a,{children:Object(fe.jsx)(ee.c,{children:n?Object(fe.jsxs)(ut,{children:[n&&Object(fe.jsx)(ot,{userObj:r,setPage:o}),Object(fe.jsxs)(ee.c,{children:[Object(fe.jsx)(ee.a,{exact:!0,path:"/",children:Object(fe.jsx)(it,{userObj:r,page:s,setPage:o,userSnapShot:c,refreshUser:t})}),Object(fe.jsx)(ee.a,{exact:!0,path:"/profile",children:Object(fe.jsx)(He,{userObj:r,refreshUser:t,userSnapShot:c})}),Object(fe.jsx)(ee.a,{exact:!0,path:"/:uid",children:Object(fe.jsx)(Ae,{userObj:r,refreshUser:t})})]})]}):Object(fe.jsx)(ut,{children:Object(fe.jsx)(ee.a,{exact:!0,path:"/",children:Object(fe.jsx)(tt,{})})})})})},bt=Object(Q.a)(D||(D=Object(X.a)(['\n  font-family:"Spoqa Han Sans Neo", "Spoqa Han Sans JP", sans-serif;\n  html{\n    scroll-behavior: smooth;\n  }\n  body{\n    background-color: #F0F8FF;\n  }\n    a {\n      text-decoration: none;\n      color:inherit;\n    }\n']))),lt=function(){var e=Object(A.useState)(!1),t=Object(_.a)(e,2),n=t[0],r=t[1],c=Object(A.useState)(!1),a=Object(_.a)(c,2),i=a[0],s=a[1],o=Object(A.useState)(null),u=Object(_.a)(o,2),d=u[0],b=u[1],l=Object(A.useState)(),p=Object(_.a)(l,2),j=p[0],x=p[1];Object(A.useEffect)(Object(q.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=x,e.next=3,G(d);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[d]),Object(A.useEffect)(Object(q.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(Y.f)(Z.authService,function(){var e=Object(q.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?(b({uid:t.uid,photoUrl:t.photoURL?t.photoURL:"https://img1.daumcdn.net/thumb/R1280x0.fjpg/?fname=http://t1.daumcdn.net/brunch/service/user/7r5X/image/9djEiPBPMLu_IvCYyvRPwmZkM1g.jpg",displayName:t.displayName?t.displayName:t.email.split("@")[0]}),s(!0)):(b(null),s(!1)),r(!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)}))),[]);var h=function(){var e=Object(q.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.authService.currentUser;case 2:return t=e.sent,b(t?{uid:t.uid,photoUrl:t.photoURL?t.photoURL:"https://img1.daumcdn.net/thumb/R1280x0.fjpg/?fname=http://t1.daumcdn.net/brunch/service/user/7r5X/image/9djEiPBPMLu_IvCYyvRPwmZkM1g.jpg",displayName:t.displayName?t.displayName:t.email.split("@")[0]}:null),e.t0=x,e.next=7,G(d);case 7:e.t1=e.sent,(0,e.t0)(e.t1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)(bt,{}),n?Object(fe.jsx)(dt,{refreshUser:h,userObj:d,isLoggedIn:i,userSnapShot:j}):Object(fe.jsx)("span",{children:"Loading..."})]})};F.a.render(Object(fe.jsx)(lt,{}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.0ac1db31.chunk.js.map