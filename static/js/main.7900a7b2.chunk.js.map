{"version":3,"sources":["fBase.js","hooks/userQuery.js","style/NweetStyle.js","components/Comment.js","components/Nweet.js","style/HomeStyle.js","components/PageBtn.js","hooks/getNweets.js","style/OtherProfileStyle.js","routes/OthersProfile.js","components/Demo.js","style/AuthStyle.js","style/ProfileStyle.js","routes/Profile.js","components/AuthForm.js","routes/Auth.js","components/Color.js","style/NweetFactoryStyle.js","components/ImgInput.js","components/NweetFactory.js","routes/Home.js","style/NavStyle.js","components/Navigation.js","components/Router.js","components/App.js","index.js"],"names":["firebaseApp","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","authService","getAuth","dbService","getFirestore","storageService","getStorage","require","query","collection","where","getDocs","getUserSnapShot","userObj","a","uid","userQuery","docs","userSnapShot","StyledNweet","styled","div","Contents","Comments","Span","span","Button48","button","props","children","Button11","ProfileImage","img","ShowButton","EditButton","showEdit","EditButtons","TextContainer","NweetName","NweetText","Comment","commentObj","nweetObj","setComments","comments","deleteComment","newComments","filter","comment","id","updateDoc","doc","to","data","src","photoURL","width","displayName","text","onClick","CommentFactory","useForm","getValues","register","handleSubmit","onSubmit","uuidv4","createdAt","Date","now","temp","type","value","Nweet","isOwner","useState","showComment","setShowComment","commentPage","setCommentPage","setPhotoURL","setShowEdit","setDisplayName","editing","setEditing","likes","includes","isLike","setIsLike","useEffect","getPhoto","onDeleteClick","window","confirm","attachmentUrl","deleteObject","ref","deleteDoc","creatorId","userPhotoURL","userDisplayName","clickLike","like","prev","toggleComments","map","index","moreComments","placeholder","className","style","cursor","icon","faComments","size","fontWeight","length","opacity","faArrowAltCircleDown","ControlButton","Container","ButtonContainer","PageBtn","nweets","setPage","handleClick","e","scrollTo","target","orderBy","limit","startAfter","onSnapshot","getNweets","page","setNweets","q","documentSnapshots","lastVisible","snapShot","nweetArray","OtherProfileDiv","OtherProfile","refreshUser","useParams","nweet","Demo","attachment","setAttachment","setIsCrop","image","cropper","setCropper","height","zIndex","zoomTo","initialAspectRatio","preview","viewMode","dragMode","minCropBoxHeight","minCropBoxWidth","cropBoxResizable","background","responsive","autoCropArea","checkOrientation","onInitialized","instance","guides","getCroppedCanvas","toDataURL","Form","form","AuthInput","input","SubmitButton","Button31","ProfileLayout","UpdateButton","PLabel","label","LogoutButton","Label","Profile","setLikeNum","setValue","isCrop","forEach","history","useHistory","onLogOutClick","signOut","push","location","reload","newDisplayName","newProfileUrl","newProfileUrlRef","uploadString","getDownloadURL","photoUrl","updateProfile","currentUser","onClearAttachment","maxLength","display","htmlFor","onChange","event","theFile","files","alert","reader","FileReader","onloadend","finishedEvent","result","currentTarget","readAsDataURL","accept","Error","h4","AuthForm","newAccount","setNewAccount","error","setError","email","password","createUserWithEmailAndPassword","addDoc","user","split","signInWithEmailAndPassword","message","required","Button","ButtonBox","Auth","onSocialClick","console","log","provider","GoogleAuthProvider","GithubAuthProvider","signInWithPopup","getAdditionalUserInfo","isNewUser","faTwitter","color","name","faGoogle","faGithub","ImgInput","setImage","NweetFacotry","getCropData","attachmentRef","creatorName","faImage","Home","Nav","Navigation","Body","AppRouter","isLoggedIn","exact","path","GlobalStyles","createGlobalStyle","App","init","setInit","setIsLoggedIn","setUserObj","setUserSnapShot","onAuthStateChanged","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7900a7b2.chunk.js","sourcesContent":["import { initializeApp } from \"firebase/app\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport { getStorage } from \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyC6d2rzFtMpx6Y3k-usaOOK2onpxyN1mmU\",\r\n  authDomain: \"ntwitter-8313d.firebaseapp.com\",\r\n  projectId: \"ntwitter-8313d\",\r\n  storageBucket: \"ntwitter-8313d.appspot.com\",\r\n  messagingSenderId: \"135453840930\",\r\n  appId: \"1:135453840930:web:735c0d5f669e53cd9a5c7b\",\r\n};\r\nexport const firebaseApp = initializeApp(firebaseConfig);\r\nexport const authService = getAuth();\r\nexport const dbService = getFirestore();\r\nexport const storageService = getStorage(firebaseApp);\r\n","const { query, collection, where, getDocs } = require(\"@firebase/firestore\");\r\nconst { dbService } = require(\"fBase\");\r\n\r\nexport const getUserSnapShot = async (userObj) => {\r\n  if (userObj) {\r\n    const userQuery = await query(\r\n      collection(dbService, \"user\"),\r\n      where(\"uid\", \"==\", userObj.uid)\r\n    );\r\n    const userSnapShot = await (await getDocs(userQuery)).docs[0];\r\n    return userSnapShot;\r\n  }\r\n};\r\nexport const getUser = async (uid) => {\r\n  if (uid) {\r\n    const userQuery = await query(\r\n      collection(dbService, \"user\"),\r\n      where(\"uid\", \"==\", uid)\r\n    );\r\n    const userSnapShot = await (await getDocs(userQuery)).docs[0];\r\n    return userSnapShot.data();\r\n  }\r\n};\r\n","import styled from \"styled-components\";\r\n\r\nexport const StyledNweet = styled.div`\r\n  background-color: white;\r\n  position: relative;\r\n  outline: none;\r\n  padding: 12px 5px;\r\n  margin: 12px 0px;\r\n  border-radius: 12px;\r\n  border: 2px solid white;\r\n  box-shadow: inset 0px 1px 1px rgba(0, 0, 0, 0.33);\r\n  transition: all 0.5s;\r\n`;\r\nexport const Contents = styled.div`\r\n  display: flex;\r\n  > div {\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n`;\r\nexport const Comments = styled.div`\r\n  margin-top: 15px;\r\n  border-top: 2px solid rgba(0, 0, 0, 0.8);\r\n\r\n  .controller {\r\n    margin-top: 5px;\r\n    display: flex;\r\n    gap: 5px;\r\n    span {\r\n      font-size: min(5vw, 25px);\r\n    }\r\n  }\r\n  .commentFactory {\r\n    input {\r\n      outline: none;\r\n      border-radius: 15px;\r\n      width: min(300px, 50vw);\r\n      height: 50px;\r\n      border: none;\r\n      box-shadow: rgba(99, 99, 99, 0.4) 0px 2px 8px 0px;\r\n      margin: 15px 0px;\r\n    }\r\n    input[type=\"submit\"] {\r\n      cursor: pointer;\r\n      color: rgb(4, 170, 255);\r\n      background: none;\r\n      box-shadow: none;\r\n      font-size: 16px;\r\n      font-weight: 600;\r\n      margin-left: 6px;\r\n      height: 50px;\r\n      width: 50px;\r\n    }\r\n  }\r\n\r\n  .moreComments {\r\n    cursor: pointer;\r\n    border: none;\r\n    width: min(300px, 50vw);\r\n    box-shadow: rgba(0, 0, 0, 0.05) 0px 6px 24px 0px,\r\n      rgba(0, 0, 0, 0.08) 0px 0px 0px 1px;\r\n    background-color: white;\r\n    border-radius: 8px;\r\n    transition: all 0.2s;\r\n    color: #03a9f4;\r\n    :hover {\r\n      color: white;\r\n      background-color: #03a9f4;\r\n    }\r\n  }\r\n`;\r\nexport const Span = styled.span``;\r\n\r\nexport const Button48 = styled.button`\r\n  appearance: none;\r\n  background-color: #f0f8ff;\r\n  border-width: 0;\r\n  box-sizing: border-box;\r\n  color: #000000;\r\n  cursor: pointer;\r\n  display: inline-block;\r\n  font-family: Clarkson, Helvetica, sans-serif;\r\n  font-size: 14px;\r\n  font-weight: 500;\r\n  letter-spacing: 0;\r\n  line-height: 1em;\r\n  margin: 0;\r\n  opacity: 1;\r\n  outline: 0;\r\n  padding: 10px 15px;\r\n\r\n  position: relative;\r\n  text-align: center;\r\n  text-decoration: none;\r\n  text-rendering: geometricprecision;\r\n  text-transform: uppercase;\r\n  transition: opacity 300ms cubic-bezier(0.694, 0, 0.335, 1),\r\n    background-color 100ms cubic-bezier(0.694, 0, 0.335, 1),\r\n    color 100ms cubic-bezier(0.694, 0, 0.335, 1);\r\n  user-select: none;\r\n  -webkit-user-select: none;\r\n  touch-action: manipulation;\r\n  vertical-align: baseline;\r\n  white-space: nowrap;\r\n\r\n  :before {\r\n    animation: opacityFallbackOut 0.5s step-end forwards;\r\n    backface-visibility: hidden;\r\n    background-color: ${(props) => {\r\n      if (\r\n        props.children.props.children === \"Cancel\" ||\r\n        props.children.props.children === \"Logout\"\r\n      ) {\r\n        return \"tomato\";\r\n      } else {\r\n        return \"#1cb0f6\";\r\n      }\r\n    }};\r\n    clip-path: polygon(-1% 0, 0 0, -25% 100%, -1% 100%);\r\n    content: \"\";\r\n    height: 100%;\r\n    left: 0;\r\n    position: absolute;\r\n    top: 0;\r\n    transform: translateZ(0);\r\n    transition: clip-path 0.5s cubic-bezier(0.165, 0.84, 0.44, 1),\r\n      -webkit-clip-path 0.5s cubic-bezier(0.165, 0.84, 0.44, 1);\r\n    width: 100%;\r\n  }\r\n\r\n  :hover:before {\r\n    animation: opacityFallbackIn 0s step-start forwards;\r\n    clip-path: polygon(0 0, 101% 0, 101% 101%, 0 101%);\r\n  }\r\n\r\n  :after {\r\n    background-color: #ffffff;\r\n  }\r\n  :hover {\r\n    ${Span} {\r\n      color: #f0f8ff;\r\n    }\r\n  }\r\n\r\n  span {\r\n    color: ${(props) => {\r\n      if (\r\n        props.children.props.children === \"Cancel\" ||\r\n        props.children.props.children === \"Logout\"\r\n      ) {\r\n        return \"tomato\";\r\n      } else {\r\n        return \"#1cb0f6\";\r\n      }\r\n    }};\r\n    z-index: 1;\r\n    position: relative;\r\n  }\r\n`;\r\n\r\nexport const Button11 = styled.button`\r\n  appearance: button;\r\n\r\n  background-color: ${(props) => {\r\n    if (props.children === \"Cancel\") {\r\n      return \"#D54D52\";\r\n    } else {\r\n      return \"#1cb0f6\";\r\n    }\r\n  }};\r\n\r\n  border: solid transparent;\r\n  border-radius: min(16px, 3vw);\r\n  border-width: 0 0 min(4px, 0.8vw);\r\n  box-sizing: border-box;\r\n  color: #ffffff;\r\n  cursor: pointer;\r\n  display: inline-block;\r\n  font-family: din-round, sans-serif;\r\n  font-size: min(12px, 2vw);\r\n  font-weight: 700;\r\n  letter-spacing: 0.8px;\r\n  line-height: min(20px, 4vw);\r\n  margin: 0;\r\n  outline: none;\r\n  overflow: visible;\r\n  padding: 3px min(16px, 3vw);\r\n  text-align: center;\r\n  text-transform: uppercase;\r\n  touch-action: manipulation;\r\n  transform: translateZ(0);\r\n  transition: filter 0.2s;\r\n  user-select: none;\r\n  -webkit-user-select: none;\r\n  vertical-align: middle;\r\n  white-space: nowrap;\r\n  /* width: 100%; */\r\n  :after {\r\n    background-clip: padding-box;\r\n    background-color: ${(props) => {\r\n      if (props.children === \"Cancel\") {\r\n        return \"#D54D52\";\r\n      } else {\r\n        return \"#1cb0f6\";\r\n      }\r\n    }};\r\n    border: solid transparent;\r\n    border-radius: 16px;\r\n    border-width: 0 0 4px;\r\n    bottom: -4px;\r\n    content: \"\";\r\n    left: 0;\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n    z-index: -1;\r\n  }\r\n  :main,\r\n  :focus {\r\n    user-select: auto;\r\n  }\r\n  :hover:not(:disabled) {\r\n    filter: brightness(1.1);\r\n  }\r\n  :disabled {\r\n    cursor: auto;\r\n  }\r\n`;\r\n\r\nexport const ProfileImage = styled.img`\r\n  width: 50px;\r\n  border-radius: 50%;\r\n`;\r\nexport const ShowButton = styled(Button48)``;\r\nexport const EditButton = styled(Button48)`\r\n  display: ${(props) => (props.showEdit ? \"block\" : \"none\")};\r\n`;\r\nexport const EditButtons = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n  /* transform: translateX(370px); */\r\n`;\r\n\r\nexport const TextContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  img {\r\n    margin-top: 15px;\r\n    width: min(400px, 58vw);\r\n    border-radius: 15px;\r\n    max-height: 500px;\r\n  }\r\n  input[type=\"text\"] {\r\n    font-size: 16px;\r\n    margin-left: 12px;\r\n  }\r\n`;\r\nexport const NweetName = styled.span`\r\n  display: inline-block;\r\n  font-weight: 600;\r\n  margin-left: 12px;\r\n  max-width: 100px;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n`;\r\nexport const NweetText = styled.span`\r\n  margin-left: 12px;\r\n  font-size: 22px;\r\n`;\r\n","import {\r\n  collection,\r\n  doc,\r\n  getDocs,\r\n  query,\r\n  updateDoc,\r\n  where,\r\n} from \"@firebase/firestore\";\r\nimport { dbService } from \"fBase\";\r\nimport { getUser } from \"hooks/userQuery\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const Comment = ({\r\n  userObj,\r\n  commentObj,\r\n  nweetObj,\r\n  setComments,\r\n  comments,\r\n}) => {\r\n  const deleteComment = async () => {\r\n    const newComments = nweetObj.comments.filter(\r\n      (comment) => comment.id !== commentObj.id\r\n    );\r\n    await updateDoc(doc(dbService, `nweets/${nweetObj.id}`), {\r\n      comments: newComments,\r\n    });\r\n    setComments(comments.filter((comment) => comment.id !== commentObj.id));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Link\r\n        to={\r\n          commentObj.data.uid === userObj.uid ? \"/profile\" : commentObj.data.uid\r\n        }\r\n      >\r\n        <img src={commentObj.data.photoURL} width=\"50px\" />\r\n        <span>{commentObj.data.displayName}</span>\r\n      </Link>\r\n      <div>\r\n        <div>{commentObj.text}</div>\r\n      </div>\r\n      {commentObj.data.uid === userObj.uid && (\r\n        <>\r\n          <button onClick={deleteComment}>Delete</button>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const CommentFactory = ({\r\n  userObj,\r\n  nweetObj,\r\n  setComments,\r\n  comments,\r\n}) => {\r\n  const { getValues, register, handleSubmit } = useForm();\r\n  const onSubmit = async () => {\r\n    const text = getValues(\"text\");\r\n    const commentObj = {\r\n      id: uuidv4(),\r\n      uid: userObj.uid,\r\n      createdAt: Date.now(),\r\n      text,\r\n    };\r\n    const userQuery = await query(\r\n      collection(dbService, \"user\"),\r\n      where(\"uid\", \"==\", commentObj.uid)\r\n    );\r\n    const userSnapShot = await getDocs(userQuery);\r\n    const temp = {\r\n      id: uuidv4(),\r\n      uid: userObj.uid,\r\n      createdAt: Date.now(),\r\n      data: userSnapShot.docs[0].data(),\r\n      text,\r\n    };\r\n    const newComments = [commentObj, ...nweetObj.comments];\r\n    await updateDoc(doc(dbService, `nweets/${nweetObj.id}`), {\r\n      comments: newComments,\r\n    });\r\n    setComments([temp, ...comments]);\r\n  };\r\n  return (\r\n    <>\r\n      <form onSubmit={handleSubmit(onSubmit)}>\r\n        <input type=\"text\" {...register(\"text\")} />\r\n        <input type=\"submit\" value=\"게시\" />\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n","import { getAuth } from \"@firebase/auth\";\r\nimport {\r\n  collection,\r\n  deleteDoc,\r\n  doc,\r\n  getDocs,\r\n  query,\r\n  updateDoc,\r\n  where,\r\n} from \"@firebase/firestore\";\r\nimport { deleteObject, ref } from \"@firebase/storage\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { dbService, storageService } from \"fBase\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  faArrowAltCircleDown,\r\n  faComments as faComments,\r\n} from \"@fortawesome/free-regular-svg-icons\";\r\nimport {\r\n  ProfileDisplayName,\r\n  ProfileImage,\r\n  ProfileImageContainer,\r\n  StyledNweet,\r\n  TextContainer,\r\n  NweetText,\r\n  NweetName,\r\n  EditButtons,\r\n  ShowButton,\r\n  EditButton,\r\n  Editing,\r\n  Contents,\r\n  Comments,\r\n  Span,\r\n} from \"style/NweetStyle\";\r\nimport { Comment, CommentFactory } from \"./Comment\";\r\nimport { faWeight } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst Nweet = ({ nweetObj, isOwner, userObj, userSnapShot }) => {\r\n  const { register, getValues, handleSubmit } = useForm();\r\n  const [comments, setComments] = useState([]);\r\n  const [showComment, setShowComment] = useState(true);\r\n  const [commentPage, setCommentPage] = useState(1);\r\n  const [photoURL, setPhotoURL] = useState(\"\");\r\n  const [showEdit, setShowEdit] = useState(false);\r\n  const [displayName, setDisplayName] = useState(\"\");\r\n  const [editing, setEditing] = useState(false);\r\n  const [isLike, setIsLike] = useState(nweetObj.likes.includes(userObj.uid));\r\n  useEffect(() => {\r\n    // nweetObj.comments.map(async (comment, index) => {\r\n    //   if (index < 3 && index >= 0) {\r\n    //     const userQuery = await query(\r\n    //       collection(dbService, \"user\"),\r\n    //       where(\"uid\", \"==\", comment.uid)\r\n    //     );\r\n    //     const userSnapShot = await getDocs(userQuery);\r\n    //     const commentObj = {\r\n    //       id: comment.id,\r\n    //       uid: comment.uid,\r\n    //       data: userSnapShot.docs[0].data(),\r\n    //       text: comment.text,\r\n    //     };\r\n    //     setComments((prev) => [commentObj, ...prev]);\r\n    //   }\r\n    // });\r\n\r\n    getPhoto();\r\n  }, []);\r\n  // creatorId 이용해서 User 리턴받고 PhotoUrl 얻기\r\n  const onDeleteClick = async () => {\r\n    const ok = window.confirm(\"Are you sure you want to delete this nweet?\");\r\n    if (ok) {\r\n      nweetObj.attachmentUrl &&\r\n        (await deleteObject(ref(storageService, nweetObj.attachmentUrl)));\r\n      await deleteDoc(doc(dbService, `nweets/${nweetObj.id}`));\r\n      //user 안에 있는 nweets array 에서 지우기\r\n    }\r\n  };\r\n  const toggleEditing = () => {\r\n    setEditing((prev) => !prev);\r\n  };\r\n\r\n  const onSubmit = async () => {\r\n    updateDoc(doc(dbService, `nweets/${nweetObj.id}`), {\r\n      text: getValues(\"newNweet\"),\r\n    });\r\n\r\n    setEditing(false);\r\n  };\r\n\r\n  const getPhoto = async () => {\r\n    const userQuery = await query(\r\n      collection(dbService, \"user\"),\r\n      where(\"uid\", \"==\", nweetObj.creatorId)\r\n    );\r\n    const userSnapShot = await getDocs(userQuery);\r\n    const userPhotoURL = userSnapShot.docs[0].data().photoURL;\r\n    const userDisplayName = userSnapShot.docs[0].data().displayName;\r\n    setDisplayName(userDisplayName);\r\n    setPhotoURL(userPhotoURL);\r\n  };\r\n  const onShowClick = () => {\r\n    setShowEdit((prev) => {\r\n      if (prev) {\r\n        setEditing(false);\r\n      }\r\n      return !prev;\r\n    });\r\n  };\r\n  const clickLike = async () => {\r\n    if (isLike) {\r\n      updateDoc(doc(dbService, `nweets/${nweetObj.id}`), {\r\n        likes: nweetObj.likes.filter((like) => like !== userObj.uid),\r\n      });\r\n    } else {\r\n      updateDoc(doc(dbService, `nweets/${nweetObj.id}`), {\r\n        likes: [userObj.uid, ...nweetObj.likes],\r\n      });\r\n    }\r\n    setIsLike((prev) => !prev);\r\n  };\r\n  const toggleComments = () => {\r\n    setComments([]);\r\n    setShowComment((prev) => {\r\n      if (prev === true) {\r\n        setCommentPage((prev) => (prev += 1));\r\n      } else {\r\n        setCommentPage(1);\r\n      }\r\n      return !prev;\r\n    });\r\n    if (showComment) {\r\n      nweetObj.comments.map(async (comment, index) => {\r\n        if (index < commentPage * 3) {\r\n          const userQuery = await query(\r\n            collection(dbService, \"user\"),\r\n            where(\"uid\", \"==\", comment.uid)\r\n          );\r\n          const userSnapShot = await getDocs(userQuery);\r\n          const commentObj = {\r\n            id: comment.id,\r\n            uid: comment.uid,\r\n            data: userSnapShot.docs[0].data(),\r\n            text: comment.text,\r\n          };\r\n          setComments((prev) => [commentObj, ...prev]);\r\n        }\r\n      });\r\n    }\r\n  };\r\n  const moreComments = async () => {\r\n    setCommentPage((prev) => (prev += 1));\r\n    nweetObj.comments.map(async (comment, index) => {\r\n      if (index >= (commentPage - 1) * 3 && index < commentPage * 3) {\r\n        const userQuery = await query(\r\n          collection(dbService, \"user\"),\r\n          where(\"uid\", \"==\", comment.uid)\r\n        );\r\n        const userSnapShot = await getDocs(userQuery);\r\n        const commentObj = {\r\n          id: comment.id,\r\n          uid: comment.uid,\r\n          data: userSnapShot.docs[0].data(),\r\n          text: comment.text,\r\n        };\r\n        setComments((prev) => [commentObj, ...prev]);\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <StyledNweet>\r\n        <Contents>\r\n          <Link to={isOwner ? \"/profile\" : nweetObj.creatorId}>\r\n            <ProfileImage src={photoURL} />\r\n          </Link>\r\n          <div>\r\n            <TextContainer>\r\n              <NweetName>{displayName}</NweetName>\r\n\r\n              {editing ? (\r\n                <form onSubmit={handleSubmit(onSubmit)}>\r\n                  <input\r\n                    id=\"editNweet\"\r\n                    {...register(\"newNweet\", { value: nweetObj.text })}\r\n                    type=\"text\"\r\n                    placeholder=\"Edit your nweet\"\r\n                  />\r\n                </form>\r\n              ) : (\r\n                <NweetText>{nweetObj.text}</NweetText>\r\n              )}\r\n              {nweetObj.attachmentUrl && <img src={nweetObj.attachmentUrl} />}\r\n            </TextContainer>\r\n            {isOwner ? (\r\n              <EditButtons showEdit={showEdit}>\r\n                <ShowButton onClick={onShowClick} showEdit={showEdit}>\r\n                  {showEdit ? <Span>Cancel</Span> : <Span>Edit</Span>}\r\n                </ShowButton>\r\n                <EditButton showEdit={showEdit} onClick={onDeleteClick}>\r\n                  <Span>Delete Nweet</Span>\r\n                </EditButton>\r\n                <EditButton showEdit={showEdit} onClick={toggleEditing}>\r\n                  <Span>Edit Nweet</Span>\r\n                </EditButton>\r\n                <EditButton\r\n                  showEdit={showEdit}\r\n                  onClick={handleSubmit(onSubmit)}\r\n                >\r\n                  <Span>Update Nweet</Span>\r\n                </EditButton>\r\n              </EditButtons>\r\n            ) : (\r\n              <EditButtons></EditButtons>\r\n            )}\r\n          </div>\r\n        </Contents>\r\n\r\n        <Comments>\r\n          <div className=\"controller\">\r\n            <span style={{ cursor: \"pointer\" }} onClick={clickLike}>\r\n              {isLike ? \"🧡\" : \"🤍\"}\r\n            </span>\r\n            <span>\r\n              <FontAwesomeIcon\r\n                onClick={toggleComments}\r\n                style={{ cursor: \"pointer\" }}\r\n                icon={faComments}\r\n                size=\"lg\"\r\n              />\r\n            </span>\r\n          </div>\r\n          <div style={{ fontWeight: \"bold\" }}>\r\n            {\" \"}\r\n            좋아요 {nweetObj.likes.length}개\r\n          </div>\r\n          <div style={{ opacity: \"0.7\" }}>\r\n            댓글 {nweetObj.comments.length}개{\" \"}\r\n            <span style={{ cursor: \"pointer\" }} onClick={toggleComments}>\r\n              {!showComment ? \"닫기\" : \"모두 보기\"}\r\n            </span>\r\n          </div>\r\n          {!showComment && (\r\n            <div className=\"commentFactory\">\r\n              <CommentFactory\r\n                userObj={userObj}\r\n                nweetObj={nweetObj}\r\n                setComments={setComments}\r\n                comments={comments}\r\n              />\r\n            </div>\r\n          )}\r\n          {comments.map((comment) => (\r\n            <Comment\r\n              key={comment.id}\r\n              userObj={userObj}\r\n              commentObj={comment}\r\n              nweetObj={nweetObj}\r\n              setComments={setComments}\r\n              comments={comments}\r\n              className=\"comment\"\r\n            />\r\n          ))}\r\n\r\n          {!showComment && (\r\n            <div className=\"more\">\r\n              <button onClick={moreComments} className=\"moreComments\">\r\n                <FontAwesomeIcon icon={faArrowAltCircleDown} size=\"2x\" />\r\n                <span>더보기</span>\r\n              </button>\r\n            </div>\r\n          )}\r\n        </Comments>\r\n      </StyledNweet>\r\n    </div>\r\n  );\r\n};\r\nexport default Nweet;\r\n","import styled from \"styled-components\";\r\n\r\nexport const ControlButton = styled.button`\r\n  outline: none;\r\n  height: 30px;\r\n  text-align: center;\r\n  width: min(30vw, 180px);\r\n  border-radius: 12px;\r\n  border: 1px solid #04aaff;\r\n  box-shadow: inset 0px 1px 1px rgba(0, 0, 0, 0.33);\r\n  background-color: white;\r\n  cursor: pointer;\r\n  color: #1cb2ff;\r\n  font-size: 15px;\r\n  font-weight: 600;\r\n  transition: color 0.2s;\r\n  :hover {\r\n    background-color: #1cb2ff;\r\n    color: white;\r\n  }\r\n`;\r\n\r\nexport const Container = styled.div`\r\n  position: relative;\r\n  margin-top: 80px;\r\n  width: min(90vw, 520px);\r\n  padding: 22px 22px;\r\n  border-radius: 15px;\r\n  background-color: rgba(238, 238, 238, 0.6);\r\n  box-shadow: rgba(0, 0, 0, 0.02) 0px 1px 3px 0px,\r\n    rgba(27, 31, 35, 0.15) 0px 0px 0px 1px;\r\n`;\r\n\r\nexport const ButtonContainer = styled.div`\r\n  margin-bottom: 5px;\r\n  bottom: -10px;\r\n  display: flex;\r\n  gap: 30px;\r\n  justify-content: center;\r\n`;\r\n","import React from \"react\";\r\nimport { ButtonContainer, ControlButton } from \"style/HomeStyle\";\r\n\r\nexport const PageBtn = ({ nweets, setPage }) => {\r\n  const handleClick = (e) => {\r\n    window.scrollTo(0, 0);\r\n    const {\r\n      target: { id },\r\n    } = e;\r\n    if (id == \"prev\") {\r\n      setPage((prev) => {\r\n        if (prev <= 1) {\r\n          return 1;\r\n        } else {\r\n          return (prev -= 1);\r\n        }\r\n      });\r\n    } else {\r\n      setPage((prev) => {\r\n        if (nweets.length < 5) {\r\n          return prev;\r\n        } else {\r\n          return (prev += 1);\r\n        }\r\n      });\r\n    }\r\n  };\r\n  return (\r\n    <ButtonContainer>\r\n      <ControlButton id=\"prev\" onClick={handleClick}>\r\n        ◀\r\n      </ControlButton>\r\n      <ControlButton id=\"next\" onClick={handleClick}>\r\n        ▶\r\n      </ControlButton>\r\n    </ButtonContainer>\r\n  );\r\n};\r\n","const {\r\n  query,\r\n  collection,\r\n  orderBy,\r\n  limit,\r\n  getDocs,\r\n  startAfter,\r\n  onSnapshot,\r\n  where,\r\n} = require(\"@firebase/firestore\");\r\nconst { dbService } = require(\"fBase\");\r\n\r\nexport const getNweets = async (page, setPage, setNweets, uid) => {\r\n  if (page < 1) {\r\n    return;\r\n  }\r\n  let q;\r\n  if (uid) {\r\n    q = query(\r\n      collection(dbService, \"nweets\"),\r\n      orderBy(\"createdAt\", \"desc\"),\r\n      where(\"creatorId\", \"==\", uid),\r\n      limit(5)\r\n    );\r\n  } else {\r\n    q = query(\r\n      collection(dbService, \"nweets\"),\r\n      orderBy(\"createdAt\", \"desc\"),\r\n      limit(5)\r\n    );\r\n  }\r\n  while (page > 1) {\r\n    const documentSnapshots = await getDocs(q);\r\n    const lastVisible =\r\n      documentSnapshots.docs[documentSnapshots.docs.length - 1];\r\n    if (uid) {\r\n      q = query(\r\n        collection(dbService, \"nweets\"),\r\n        orderBy(\"createdAt\", \"desc\"),\r\n        where(\"creatorId\", \"==\", uid),\r\n        startAfter(lastVisible),\r\n        limit(5)\r\n      );\r\n    } else {\r\n      q = query(\r\n        collection(dbService, \"nweets\"),\r\n        orderBy(\"createdAt\", \"desc\"),\r\n        startAfter(lastVisible),\r\n        limit(5)\r\n      );\r\n    }\r\n    page -= 1;\r\n  }\r\n  await onSnapshot(q, (snapShot) => {\r\n    const nweetArray = snapShot.docs.map((doc) => {\r\n      return {\r\n        id: doc.id,\r\n        ...doc.data(),\r\n      };\r\n    });\r\n    if (nweetArray.length < 1) {\r\n      setPage((prev) => (prev -= 1));\r\n    }\r\n    setNweets(nweetArray);\r\n  });\r\n};\r\n","import styled from \"styled-components\";\r\n\r\nexport const OtherProfileDiv = styled.div`\r\n  display: flex;\r\n  gap: 15px;\r\n  img {\r\n    border-radius: 25px;\r\n  }\r\n  span {\r\n    font-size: 25px;\r\n    font-weight: 600;\r\n  }\r\n`;\r\n","import {\r\n  collection,\r\n  getDocs,\r\n  limit,\r\n  onSnapshot,\r\n  orderBy,\r\n  query,\r\n  startAfter,\r\n  where,\r\n} from \"@firebase/firestore\";\r\nimport Nweet from \"components/Nweet\";\r\nimport { PageBtn } from \"components/PageBtn\";\r\nimport { dbService } from \"fBase\";\r\nimport { getNweets } from \"hooks/getNweets\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport { ButtonContainer, Container, ControlButton } from \"style/HomeStyle\";\r\nimport { OtherProfileDiv } from \"style/OtherProfileStyle\";\r\n\r\nexport const OtherProfile = ({ refreshUser, userObj }) => {\r\n  const [nweets, setNweets] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [photoURL, setPhotoURL] = useState(\"\");\r\n  const [displayName, setDisplayName] = useState(\"\");\r\n  const { uid } = useParams();\r\n  let userSnapShot;\r\n  let nweetArray;\r\n  const getPhoto = async () => {\r\n    const userQuery = await query(\r\n      collection(dbService, \"user\"),\r\n      where(\"uid\", \"==\", uid)\r\n    );\r\n    userSnapShot = await getDocs(userQuery);\r\n    setPhotoURL(userSnapShot.docs[0].data().photoURL);\r\n    setDisplayName(userSnapShot.docs[0].data().displayName);\r\n  };\r\n  useEffect(() => {\r\n    getPhoto();\r\n  });\r\n  useEffect(() => {\r\n    getNweets(page, setPage, setNweets, uid);\r\n  }, [page]);\r\n\r\n  return (\r\n    <Container>\r\n      <OtherProfileDiv>\r\n        <img src={photoURL} width=\"150px\" />\r\n        <span>{displayName}'s Profile</span>\r\n      </OtherProfileDiv>\r\n      {nweets.map((nweet) => (\r\n        <Nweet\r\n          key={nweet.id}\r\n          nweetObj={nweet}\r\n          isOwner={false}\r\n          userObj={userObj}\r\n        />\r\n      ))}\r\n      <PageBtn nweets={nweets} setPage={setPage} />\r\n    </Container>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport Cropper from \"react-cropper\";\r\nimport \"cropperjs/dist/cropper.css\";\r\nimport { Button11, StyledNweet, EditButtons } from \"style/NweetStyle\";\r\n\r\nexport const Demo = ({ attachment, setAttachment, setIsCrop }) => {\r\n  const [image, setImage] = useState(attachment);\r\n  const [cropData, setCropData] = useState(\"#\");\r\n  const [cropper, setCropper] = useState();\r\n  const onChange = (e) => {\r\n    e.preventDefault();\r\n    let files;\r\n    if (e.dataTransfer) {\r\n      files = e.dataTransfer.files;\r\n    } else if (e.target) {\r\n      files = e.target.files;\r\n    }\r\n    const reader = new FileReader();\r\n    reader.onload = () => {\r\n      setImage(reader.result);\r\n    };\r\n    reader.readAsDataURL(files[0]);\r\n  };\r\n\r\n  const getCropData = () => {\r\n    if (typeof cropper !== \"undefined\") {\r\n      setAttachment(cropper.getCroppedCanvas().toDataURL());\r\n      setIsCrop(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <StyledNweet>\r\n        <div>\r\n          <Cropper\r\n            style={{ height: 400, width: \"100%\", zIndex: 1 }}\r\n            zoomTo={0.1}\r\n            initialAspectRatio={1}\r\n            preview=\".img-preview\"\r\n            src={image}\r\n            viewMode={1}\r\n            dragMode={\"move\"}\r\n            minCropBoxHeight={10}\r\n            minCropBoxWidth={10}\r\n            cropBoxResizable={false}\r\n            background={false}\r\n            responsive={true}\r\n            autoCropArea={1}\r\n            checkOrientation={false} // https://github.com/fengyuanchen/cropperjs/issues/671\r\n            onInitialized={(instance) => {\r\n              setCropper(instance);\r\n            }}\r\n            guides={true}\r\n          />\r\n          <EditButtons>\r\n            <Button11 onClick={getCropData}>Crop Image</Button11>\r\n          </EditButtons>\r\n        </div>\r\n      </StyledNweet>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Demo;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Form = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\nexport const AuthInput = styled.input`\r\n  outline: none;\r\n  padding: 12px 5px;\r\n  margin: 12px 0px;\r\n  border-radius: 12px;\r\n  border: 2px solid white;\r\n  box-shadow: inset 0px 1px 1px rgba(0, 0, 0, 0.33);\r\n`;\r\nexport const SubmitButton = styled(AuthInput)`\r\n  background-color: white;\r\n  cursor: pointer;\r\n  color: #1cb2ff;\r\n  font-size: 15px;\r\n  font-weight: 600;\r\n  transition: all 0.2s;\r\n  :hover {\r\n    background-color: #1cb2ff;\r\n    color: white;\r\n  }\r\n`;\r\n\r\n/* CSS */\r\nexport const Button31 = styled.button`\r\n  background-color: tomato;\r\n  border-radius: 4px;\r\n  border-style: none;\r\n  box-sizing: border-box;\r\n  color: #fff;\r\n  cursor: pointer;\r\n  display: inline-block;\r\n  font-size: 16px;\r\n  font-weight: 700;\r\n  line-height: 1.5;\r\n  outline: none;\r\n  overflow: hidden;\r\n  padding: 9px 20px 8px;\r\n  position: relative;\r\n  text-align: center;\r\n  text-transform: none;\r\n  user-select: none;\r\n  -webkit-user-select: none;\r\n  touch-action: manipulation;\r\n  width: 100%;\r\n  :hover {\r\n    opacity: 0.75;\r\n  }\r\n`;\r\n","import styled from \"styled-components\";\r\nimport { Button31 } from \"./AuthStyle\";\r\nimport { Button11, Button48 } from \"./NweetStyle\";\r\n\r\nexport const ProfileLayout = styled.div`\r\n  input[type=\"file\"] {\r\n    width: 0px;\r\n  }\r\n  display: flex;\r\n  flex-direction: column;\r\n  input[type=\"text\"] {\r\n    outline: none;\r\n    border: none;\r\n    border-radius: 15px;\r\n    height: 50px;\r\n    width: 100%;\r\n    font-size: 23px;\r\n    font-weight: 600;\r\n    background-color: inherit;\r\n  }\r\n  form {\r\n    margin-top: 5px;\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n`;\r\nexport const UpdateButton = styled.button`\r\n  box-sizing: border-box;\r\n  margin-bottom: 15px;\r\n  padding: 6px;\r\n  cursor: pointer;\r\n  border: none;\r\n  width: 100%;\r\n  box-shadow: rgba(0, 0, 0, 0.05) 0px 6px 24px 0px,\r\n    rgba(0, 0, 0, 0.08) 0px 0px 0px 1px;\r\n  background-color: white;\r\n  border-radius: 8px;\r\n  transition: all 0.2s;\r\n  color: #03a9f4;\r\n  :hover {\r\n    color: white;\r\n    background-color: #03a9f4;\r\n  }\r\n`;\r\nexport const PLabel = styled.label`\r\n  margin-bottom: 15px;\r\n  box-sizing: border-box;\r\n  padding: 6px;\r\n  text-align: center;\r\n  cursor: pointer;\r\n  border: none;\r\n  width: 100%;\r\n  box-shadow: rgba(0, 0, 0, 0.05) 0px 6px 24px 0px,\r\n    rgba(0, 0, 0, 0.08) 0px 0px 0px 1px;\r\n  background-color: white;\r\n  border-radius: 8px;\r\n  transition: all 0.2s;\r\n  color: #03a9f4;\r\n  :hover {\r\n    color: white;\r\n    background-color: #03a9f4;\r\n  }\r\n`;\r\n\r\nexport const LogoutButton = styled(Button48)`\r\n  cursor: pointer;\r\n  position: absolute;\r\n  right: 15px;\r\n  width: 100px;\r\n  font-size: 15px;\r\n  cursor: pointer;\r\n  position: absolute;\r\n  right: 15px;\r\n`;\r\n\r\nexport const Label = styled.label`\r\n  margin-top: 5px;\r\n  display: block;\r\n  position: relative;\r\n  background-image: ${(props) => {\r\n    return `url(${props.img})`;\r\n  }};\r\n  background-size: 150px 150px;\r\n  width: 150px;\r\n  height: 150px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  button {\r\n    position: absolute;\r\n    top: -30px;\r\n    left: -15px;\r\n    white-space: nowrap;\r\n  }\r\n`;\r\n","import { signOut, updateProfile } from \"@firebase/auth\";\r\nimport {\r\n  collection,\r\n  doc,\r\n  getDocs,\r\n  limit,\r\n  onSnapshot,\r\n  orderBy,\r\n  query,\r\n  startAfter,\r\n  updateDoc,\r\n  where,\r\n} from \"@firebase/firestore\";\r\nimport { getDownloadURL, ref, uploadString } from \"@firebase/storage\";\r\nimport Demo from \"components/Demo\";\r\nimport Nweet from \"components/Nweet\";\r\nimport { PageBtn } from \"components/PageBtn\";\r\nimport { authService, dbService, storageService } from \"fBase\";\r\nimport { getNweets } from \"hooks/getNweets\";\r\nimport { getUserSnapShot } from \"hooks/userQuery\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport { ButtonContainer, Container, ControlButton } from \"style/HomeStyle\";\r\nimport { Button11, Span } from \"style/NweetStyle\";\r\nimport {\r\n  Label,\r\n  LogoutButton,\r\n  PLabel,\r\n  ProfileLayout,\r\n  UpdateButton,\r\n} from \"style/ProfileStyle\";\r\n\r\nconst Profile = ({ refreshUser, userObj, userSnapShot }) => {\r\n  const [likeNum, setLikeNum] = useState(0);\r\n  const { register, handleSubmit, setValue, getValues } = useForm();\r\n  setValue(\"newDisplayName\", userObj.displayName);\r\n  const [page, setPage] = useState(1);\r\n  const [attachment, setAttachment] = useState(\"\");\r\n  const [isCrop, setIsCrop] = useState(false);\r\n  const [nweets, setNweets] = useState([]);\r\n  let nweetArray;\r\n  useEffect(() => {\r\n    getNweets(page, setPage, setNweets, userObj.uid);\r\n  }, [page]);\r\n  const countLike = () => {\r\n    nweets.forEach((nweet) =>\r\n      setLikeNum((prev) => (prev += nweet.likes.length))\r\n    );\r\n  };\r\n  useEffect(() => {\r\n    countLike();\r\n  }, []);\r\n  const history = useHistory();\r\n  const onLogOutClick = async () => {\r\n    await signOut(authService);\r\n    history.push(\"/\");\r\n    window.location.reload();\r\n  };\r\n\r\n  const onSubmit = async () => {\r\n    const { newDisplayName } = getValues();\r\n\r\n    let newProfileUrl = null;\r\n    if (attachment !== \"\") {\r\n      const newProfileUrlRef = ref(storageService, `${userObj.uid}/profile`);\r\n      await uploadString(newProfileUrlRef, attachment, \"data_url\");\r\n      newProfileUrl = await getDownloadURL(newProfileUrlRef);\r\n    }\r\n    if (\r\n      userObj.displayName !== newDisplayName ||\r\n      userObj.photoUrl !== newProfileUrl\r\n    ) {\r\n      await updateProfile(await authService.currentUser, {\r\n        displayName: newDisplayName,\r\n        photoURL: newProfileUrl,\r\n      });\r\n\r\n      // const userSnapShot = await getUserSnapShot(userObj);\r\n      await updateDoc(doc(dbService, `user/${userSnapShot.id}`), {\r\n        displayName: newDisplayName,\r\n        photoURL: newProfileUrl,\r\n      });\r\n      refreshUser();\r\n    }\r\n  };\r\n\r\n  const onFileChange = (event) => {\r\n    setIsCrop(true);\r\n    const {\r\n      target: { files },\r\n    } = event;\r\n    const theFile = files[0];\r\n    const maxSize = 5 * 1024 * 1024;\r\n    if (theFile.size > maxSize) {\r\n      alert(\"프로필 사이즈는 5MB 이내로 등록 가능합니다.\");\r\n      onClearAttachment();\r\n      return;\r\n    }\r\n    const reader = new FileReader();\r\n    reader.onloadend = (finishedEvent) => {\r\n      const {\r\n        currentTarget: { result },\r\n      } = finishedEvent;\r\n      setAttachment(result);\r\n    };\r\n    reader.readAsDataURL(theFile);\r\n  };\r\n\r\n  const onClearAttachment = () => setAttachment(null);\r\n\r\n  return (\r\n    <>\r\n      <Container>\r\n        <ProfileLayout>\r\n          <form onSubmit={handleSubmit(onSubmit)}>\r\n            <input\r\n              {...register(\"newDisplayName\")}\r\n              maxLength=\"6\"\r\n              type=\"text\"\r\n              placeholder=\"Display name\"\r\n            />\r\n          </form>\r\n          <div style={{ display: \"flex\" }}>\r\n            <Label\r\n              htmlFor=\"profilePhoto\"\r\n              img={attachment ? attachment : userObj.photoUrl}\r\n            ></Label>\r\n            <div>게시글수 {nweets.length}</div>\r\n          </div>\r\n          {isCrop && attachment && (\r\n            <Demo\r\n              attachment={attachment}\r\n              setAttachment={setAttachment}\r\n              setIsCrop={setIsCrop}\r\n            />\r\n          )}\r\n          <form onSubmit={handleSubmit(onSubmit)}>\r\n            <input\r\n              {...register(\"profilePhoto\")}\r\n              onChange={onFileChange}\r\n              id=\"profilePhoto\"\r\n              type=\"file\"\r\n              accept=\"image/*\"\r\n            />\r\n            <PLabel htmlFor=\"profilePhoto\">사진 편집</PLabel>\r\n            <UpdateButton onClick={handleSubmit(onSubmit)}>Update</UpdateButton>\r\n          </form>\r\n          <LogoutButton onClick={onLogOutClick}>\r\n            <Span>Logout</Span>\r\n          </LogoutButton>\r\n        </ProfileLayout>\r\n        {nweets.map((nweet) => {\r\n          return (\r\n            <Nweet\r\n              key={nweet.id}\r\n              nweetObj={nweet}\r\n              isOwner={nweet.creatorId === userObj.uid}\r\n              userObj={userObj}\r\n            />\r\n          );\r\n        })}\r\n        <PageBtn nweets={nweets} setPage={setPage} />\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\nexport default Profile;\r\n","import {\r\n  createUserWithEmailAndPassword,\r\n  signInWithEmailAndPassword,\r\n} from \"@firebase/auth\";\r\nimport { addDoc, collection } from \"@firebase/firestore\";\r\nimport { authService, dbService } from \"fBase\";\r\nimport React, { useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport {\r\n  AuthInput,\r\n  Button31,\r\n  Form,\r\n  Login,\r\n  SubmitButton,\r\n} from \"style/AuthStyle\";\r\nimport styled from \"styled-components\";\r\nconst Container = styled.div`\r\n  width: 300px;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst Error = styled.h4``;\r\nconst AuthForm = () => {\r\n  const { register, handleSubmit, getValues } = useForm();\r\n  const [newAccount, setNewAccount] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const onSubmit = async () => {\r\n    const { email, password } = getValues();\r\n    try {\r\n      if (newAccount) {\r\n        const result = await createUserWithEmailAndPassword(\r\n          authService,\r\n          email,\r\n          password\r\n        );\r\n        await addDoc(collection(dbService, \"user\"), {\r\n          uid: result.user.uid,\r\n          photoURL: result.user.photoURL\r\n            ? result.user.photoURL\r\n            : \"https://img1.daumcdn.net/thumb/R1280x0.fjpg/?fname=http://t1.daumcdn.net/brunch/service/user/7r5X/image/9djEiPBPMLu_IvCYyvRPwmZkM1g.jpg\",\r\n          displayName: result.user.displayName\r\n            ? result.user.displayName\r\n            : result.user.email.split(\"@\")[0],\r\n          nweets: [],\r\n        });\r\n      } else {\r\n        await signInWithEmailAndPassword(authService, email, password);\r\n      }\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n  };\r\n  const toggleAccount = () => setNewAccount((prev) => !prev);\r\n  return (\r\n    <Container>\r\n      <Form onSubmit={handleSubmit(onSubmit)}>\r\n        <AuthInput\r\n          {...register(\"email\")}\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          required\r\n        />\r\n        <AuthInput\r\n          {...register(\"password\")}\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          required\r\n        />\r\n        <SubmitButton\r\n          className=\"submit\"\r\n          type=\"submit\"\r\n          value={newAccount ? \"Create Account\" : \"Log In\"}\r\n          required\r\n        />\r\n      </Form>\r\n      <Button31 onClick={toggleAccount}>\r\n        {newAccount ? \"LogIn\" : \"CreateAccount\"}\r\n      </Button31>\r\n      <Error>{error}</Error>\r\n    </Container>\r\n  );\r\n};\r\nexport default AuthForm;\r\n","import {\r\n  getAdditionalUserInfo,\r\n  GithubAuthProvider,\r\n  GoogleAuthProvider,\r\n  signInWithPopup,\r\n} from \"@firebase/auth\";\r\nimport { addDoc, collection } from \"@firebase/firestore\";\r\nimport {\r\n  faGithub,\r\n  faGoogle,\r\n  faTwitter,\r\n} from \"@fortawesome/free-brands-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport AuthForm from \"components/AuthForm\";\r\nimport Color from \"components/Color\";\r\nimport { authService, dbService } from \"fBase\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  justify-content: space-evenly;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  background-color: ${Color.black};\r\n  opacity: 0.9;\r\n  height: 550px;\r\n  border-radius: 25px;\r\n`;\r\nconst Button = styled.button`\r\n  position: relative;\r\n  background-color: #ffffff;\r\n  border-radius: 15px;\r\n  padding: 15px;\r\n  margin: 10px;\r\n  height: 50px;\r\n  font-size: 13px;\r\n  font-weight: bold;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  transition: all 0.2s;\r\n  cursor: pointer;\r\n`;\r\nconst ButtonBox = styled.div`\r\n  display: flex;\r\n  .github:hover {\r\n    background-color: #333333;\r\n    color: #ffffff;\r\n  }\r\n  .google:hover {\r\n    background-color: #de463b;\r\n    color: #ffffff;\r\n  }\r\n`;\r\nconst Auth = (props) => {\r\n  const onSocialClick = async (event) => {\r\n    const {\r\n      target: { className },\r\n    } = event;\r\n    console.log(className);\r\n    let provider;\r\n    if (className === \"google\") {\r\n      provider = new GoogleAuthProvider();\r\n      console.log(\"try google\");\r\n    } else if (className === \"github\") {\r\n      provider = new GithubAuthProvider();\r\n      console.log(\"try github\");\r\n    }\r\n    try {\r\n      const result = await signInWithPopup(authService, provider);\r\n      if (await getAdditionalUserInfo(result).isNewUser) {\r\n        await addDoc(collection(dbService, \"user\"), {\r\n          uid: result.user.uid,\r\n          photoURL: result.user.photoURL\r\n            ? result.user.photoURL\r\n            : \"https://img1.daumcdn.net/thumb/R1280x0.fjpg/?fname=http://t1.daumcdn.net/brunch/service/user/7r5X/image/9djEiPBPMLu_IvCYyvRPwmZkM1g.jpg\",\r\n          displayName: result.user.displayName\r\n            ? result.user.displayName\r\n            : result.user.email.split(\"@\")[0],\r\n          nweets: [],\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  return (\r\n    <Container>\r\n      <FontAwesomeIcon icon={faTwitter} color={\"#04AAFF\"} size=\"3x\" />\r\n      <AuthForm />\r\n      <ButtonBox>\r\n        <Button onClick={onSocialClick} name=\"google\" className=\"google\">\r\n          <span className=\"google\">Continue With Google &nbsp; &nbsp; </span>\r\n          <FontAwesomeIcon className=\"google\" icon={faGoogle} size=\"2x\" />\r\n        </Button>\r\n        <Button onClick={onSocialClick} name=\"github\" className=\"github\">\r\n          <span className=\"github\">Continue With github &nbsp; &nbsp;</span>\r\n          <FontAwesomeIcon className=\"github\" icon={faGithub} size=\"2x\" />\r\n        </Button>\r\n      </ButtonBox>\r\n    </Container>\r\n  );\r\n};\r\nexport default Auth;\r\n","export default {\r\n  blue: \"#04AAFF\",\r\n  black: \"#F8F8F8\",\r\n};\r\n","import styled from \"styled-components\";\r\nexport const Form = styled.form`\r\n  position: relative;\r\n  width: min(91vw, 525px);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  label {\r\n    position: absolute;\r\n    right: min(22vw, 122px);\r\n    top: 22%;\r\n    color: #a6a3a1;\r\n  }\r\n  input[type=\"text\"] {\r\n    box-sizing: border-box;\r\n    word-break: break-all;\r\n    word-wrap: break-word;\r\n    text-overflow: clip;\r\n    width: min(70vw, 440px);\r\n    height: min(10vw, 50px);\r\n    :focus {\r\n      height: min(15vw, 75px);\r\n    }\r\n    transition: all 0.5s;\r\n  }\r\n  input[type=\"file\"] {\r\n    display: flex;\r\n    width: 0px;\r\n  }\r\n  .custom-file-upload {\r\n    display: inline-block;\r\n    padding: 6px 12px;\r\n    cursor: pointer;\r\n  }\r\n  input[type=\"submit\"] {\r\n    padding: 0;\r\n    font-size: min(3vw, 15px);\r\n    width: min(15vw, 75px);\r\n    height: min(10vw, 50px);\r\n  }\r\n`;\r\n","import React from \"react\";\r\n\r\nexport const ImgInput = ({ setIsCrop, setAttachment, setImage }) => {\r\n  const onFileChange = (event) => {\r\n    setIsCrop(true);\r\n    setAttachment(null);\r\n    const {\r\n      target: { files },\r\n    } = event;\r\n    const theFile = files[0];\r\n    //용량 체크\r\n    const maxSize = 2 * 1024 * 1024;\r\n    if (theFile.size > maxSize) {\r\n      alert(\"첨부파일 사이즈는 2MB 이내로 등록 가능합니다.\");\r\n      setAttachment(null);\r\n      return;\r\n    }\r\n\r\n    const reader = new FileReader();\r\n    reader.onloadend = (finishedEvent) => {\r\n      const {\r\n        currentTarget: { result },\r\n      } = finishedEvent;\r\n      setAttachment(result);\r\n      setImage(result);\r\n    };\r\n    reader.readAsDataURL(theFile);\r\n    event.target.value = \"\";\r\n  };\r\n\r\n  return (\r\n    <input\r\n      id=\"file-upload\"\r\n      onChange={onFileChange}\r\n      type=\"file\"\r\n      accept=\"image/*\"\r\n    />\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport {\r\n  getDownloadURL,\r\n  ref,\r\n  uploadBytes,\r\n  uploadString,\r\n} from \"@firebase/storage\";\r\nimport { dbService, storageService } from \"fBase\";\r\nimport {\r\n  addDoc,\r\n  collection,\r\n  doc,\r\n  getDoc,\r\n  getDocs,\r\n  onSnapshot,\r\n  query,\r\n  updateDoc,\r\n  where,\r\n} from \"@firebase/firestore\";\r\nimport styled from \"styled-components\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faFile, faImage, faUpload } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Attachment, Form, TextArea } from \"style/NweetFactoryStyle\";\r\nimport { AuthInput, SubmitButton } from \"style/AuthStyle\";\r\nimport Cropper from \"react-cropper\";\r\nimport {\r\n  Button11,\r\n  EditButtons,\r\n  NweetName,\r\n  StyledNweet,\r\n  TextContainer,\r\n} from \"style/NweetStyle\";\r\nimport Demo from \"./Demo\";\r\nimport { ImgInput } from \"./ImgInput\";\r\n\r\nconst NweetFacotry = ({ userObj, refreshUser }) => {\r\n  const [cropData, setCropData] = useState(\"#\");\r\n  const [cropper, setCropper] = useState();\r\n  const [attachment, setAttachment] = useState(null);\r\n  const [image, setImage] = useState(attachment);\r\n  const [isCrop, setIsCrop] = useState(false);\r\n  const { register, handleSubmit, getValues, setValue } = useForm();\r\n  const getCropData = () => {\r\n    if (typeof cropper !== \"undefined\") {\r\n      setAttachment(cropper.getCroppedCanvas().toDataURL());\r\n      setIsCrop(false);\r\n    }\r\n  };\r\n  const onSubmit = async () => {\r\n    if (isCrop) {\r\n      await getCropData();\r\n    } else {\r\n      const { nweet } = getValues();\r\n      if (attachment === null && !nweet) {\r\n        alert(\"Input Nweet or Photo please\");\r\n        return;\r\n      }\r\n      let attachmentUrl = null;\r\n      if (attachment !== null) {\r\n        const attachmentRef = ref(storageService, `${userObj.uid}/${uuidv4()}`);\r\n        await uploadString(attachmentRef, attachment, \"data_url\");\r\n        attachmentUrl = await getDownloadURL(attachmentRef);\r\n      }\r\n      const nweetObj = {\r\n        text: nweet,\r\n        likes: [],\r\n        comments: [],\r\n        createdAt: Date.now(),\r\n        attachmentUrl,\r\n        creatorId: userObj.uid,\r\n        creatorName: userObj.displayName,\r\n        photoURL: userObj.photoURL\r\n          ? userObj.photoURL\r\n          : \"https://img1.daumcdn.net/thumb/R1280x0.fjpg/?fname=http://t1.daumcdn.net/brunch/service/user/7r5X/image/9djEiPBPMLu_IvCYyvRPwmZkM1g.jpg\",\r\n      };\r\n      const nweetResult = await addDoc(\r\n        collection(dbService, \"nweets\"),\r\n        nweetObj\r\n      );\r\n\r\n      refreshUser();\r\n\r\n      setAttachment(null);\r\n      setValue(\"nweet\", \"\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Form onSubmit={handleSubmit(onSubmit)}>\r\n        <AuthInput\r\n          {...register(\"nweet\")}\r\n          type=\"text\"\r\n          placeholder=\"What's on your mind?\"\r\n          maxLength={80}\r\n        ></AuthInput>\r\n        <label htmlFor=\"file-upload\" className=\"custom-file-upload\">\r\n          <FontAwesomeIcon icon={faImage} size=\"lg\" />\r\n          <ImgInput\r\n            setAttachment={setAttachment}\r\n            setIsCrop={setIsCrop}\r\n            setImage={setImage}\r\n          />\r\n        </label>\r\n        <SubmitButton type=\"submit\" value={isCrop ? \"자르기\" : \"게시\"} />\r\n      </Form>\r\n      {attachment && isCrop && (\r\n        <StyledNweet>\r\n          <div>\r\n            <Cropper\r\n              style={{ height: 400, width: \"100%\", zIndex: 1 }}\r\n              zoomTo={0.1}\r\n              initialAspectRatio={1}\r\n              preview=\".img-preview\"\r\n              src={image}\r\n              viewMode={1}\r\n              dragMode={\"move\"}\r\n              minCropBoxHeight={10}\r\n              minCropBoxWidth={10}\r\n              cropBoxResizable={false}\r\n              background={false}\r\n              responsive={true}\r\n              autoCropArea={1}\r\n              checkOrientation={false} // https://github.com/fengyuanchen/cropperjs/issues/671\r\n              onInitialized={(instance) => {\r\n                setCropper(instance);\r\n              }}\r\n              guides={true}\r\n            />\r\n            <EditButtons>\r\n              <Button11 onClick={getCropData}>Crop Image</Button11>\r\n            </EditButtons>\r\n          </div>\r\n        </StyledNweet>\r\n      )}\r\n      {attachment && !isCrop && (\r\n        <StyledNweet>\r\n          <div>\r\n            <TextContainer>\r\n              <img src={attachment} />\r\n            </TextContainer>\r\n            <EditButtons>\r\n              <Button11 onClick={() => setAttachment(null)}>Cancel</Button11>\r\n              <Button11 onClick={() => setIsCrop(true)}>Resize Image</Button11>\r\n            </EditButtons>\r\n          </div>\r\n        </StyledNweet>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NweetFacotry;\r\n","import Nweet from \"components/Nweet\";\r\nimport NweetFacotry from \"components/NweetFactory\";\r\nimport { PageBtn } from \"components/PageBtn\";\r\nimport { getNweets } from \"hooks/getNweets\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Container } from \"style/HomeStyle\";\r\n\r\nconst Home = ({ userObj, page, setPage, userSnapShot, refreshUser }) => {\r\n  const [nweets, setNweets] = useState([]);\r\n\r\n  useEffect(async () => {\r\n    getNweets(page, setPage, setNweets);\r\n  }, [page]);\r\n\r\n  return (\r\n    <>\r\n      <Container>\r\n        <NweetFacotry\r\n          userObj={userObj}\r\n          userSnapShot={userSnapShot}\r\n          refreshUser={refreshUser}\r\n        />\r\n        {nweets.map((nweet) => (\r\n          <Nweet\r\n            key={nweet.id}\r\n            nweetObj={nweet}\r\n            isOwner={nweet.creatorId === userObj.uid}\r\n            userObj={userObj}\r\n            userSnapShot={userSnapShot}\r\n            refreshUser={refreshUser}\r\n          />\r\n        ))}\r\n        <PageBtn nweets={nweets} setPage={setPage} />\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\nexport default Home;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Nav = styled.div`\r\n  padding: 0px 20px 10px 20px;\r\n  height: 70px;\r\n  /* border-radius: 25px; */\r\n  /* background-color: cyan; */\r\n  position: absolute;\r\n  top: 0px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 91vw;\r\n  max-width: 525px;\r\n  align-items: center;\r\n  img {\r\n    border-radius: 50%;\r\n    max-width: 48px;\r\n    max-height: 48px;\r\n  }\r\n\r\n  span {\r\n    display: none;\r\n  }\r\n  a {\r\n    color: white;\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n  a:hover {\r\n    span {\r\n      display: inline-block;\r\n      z-index: 1;\r\n      font-weight: 600;\r\n      background-color: #9bd2c3;\r\n      padding: 5px;\r\n      top: 40px;\r\n      border-radius: 5px;\r\n      position: absolute;\r\n      white-space: nowrap;\r\n      overflow: hidden;\r\n      max-width: 100px;\r\n    }\r\n  }\r\n`;\r\n","import { faTwitter } from \"@fortawesome/free-brands-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { Nav } from \"style/NavStyle\";\r\n\r\nconst Navigation = ({ userObj, setPage }) => {\r\n  const homeClick = () => {\r\n    setPage(1);\r\n  };\r\n  return (\r\n    <Nav>\r\n      <Link to=\"/\" onClick={homeClick}>\r\n        <span>home</span>\r\n        <FontAwesomeIcon icon={faTwitter} color={\"#04AAFF\"} size=\"3x\" />\r\n      </Link>\r\n\r\n      <Link to=\"/profile\">\r\n        <span>{userObj?.displayName}</span>\r\n        <img\r\n          src={\r\n            userObj?.photoUrl\r\n              ? userObj.photoUrl\r\n              : \"https://img1.daumcdn.net/thumb/R1280x0.fjpg/?fname=http://t1.daumcdn.net/brunch/service/user/7r5X/image/9djEiPBPMLu_IvCYyvRPwmZkM1g.jpg\"\r\n          }\r\n        />\r\n      </Link>\r\n    </Nav>\r\n  );\r\n};\r\nexport default Navigation;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  HashRouter as Router,\r\n  Route,\r\n  Switch,\r\n  useParams,\r\n} from \"react-router-dom\";\r\nimport { OtherProfile } from \"routes/OthersProfile\";\r\nimport Profile from \"routes/Profile\";\r\nimport styled from \"styled-components\";\r\nimport Auth from \"../routes/Auth\";\r\nimport Home from \"../routes/Home\";\r\nimport Demo from \"./Demo\";\r\nimport Navigation from \"./Navigation\";\r\nconst Body = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: aliceblue;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst AppRouter = ({ refreshUser, isLoggedIn, userObj, userSnapShot }) => {\r\n  const [page, setPage] = useState(1);\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        {isLoggedIn ? (\r\n          <Body>\r\n            {isLoggedIn && <Navigation userObj={userObj} setPage={setPage} />}\r\n            <Switch>\r\n              <Route exact path=\"/\">\r\n                <Home\r\n                  userObj={userObj}\r\n                  page={page}\r\n                  setPage={setPage}\r\n                  userSnapShot={userSnapShot}\r\n                  refreshUser={refreshUser}\r\n                />\r\n              </Route>\r\n              <Route exact path=\"/profile\">\r\n                <Profile\r\n                  userObj={userObj}\r\n                  refreshUser={refreshUser}\r\n                  userSnapShot={userSnapShot}\r\n                />\r\n              </Route>\r\n              <Route exact path=\"/:uid\">\r\n                <OtherProfile userObj={userObj} refreshUser={refreshUser} />\r\n              </Route>\r\n            </Switch>\r\n          </Body>\r\n        ) : (\r\n          <Body>\r\n            <Route exact path=\"/\">\r\n              <Auth />\r\n            </Route>\r\n          </Body>\r\n        )}\r\n      </Switch>\r\n    </Router>\r\n  );\r\n};\r\nexport default AppRouter;\r\n","import { onAuthStateChanged } from \"@firebase/auth\";\nimport { authService } from \"fBase\";\nimport { getUserSnapShot } from \"hooks/userQuery\";\nimport { useEffect, useState } from \"react\";\nimport { createGlobalStyle } from \"styled-components\";\nimport AppRouter from \"./Router\";\n\nconst GlobalStyles = createGlobalStyle`\n\n  *{\n    /* font-family:\"jua\" */\n    font-family:\"jua\",\"Spoqa Han Sans Neo\", \"Spoqa Han Sans JP\", sans-serif;\n  }\n  html{\n    scroll-behavior: smooth;\n  }\n  body{\n    background-color: #F0F8FF;\n  }\n    a {\n      text-decoration: none;\n      color:inherit;\n    }\n`;\n\nconst App = () => {\n  const [init, setInit] = useState(false);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [userObj, setUserObj] = useState(null);\n  const [userSnapShot, setUserSnapShot] = useState();\n  useEffect(async () => {\n    setUserSnapShot(await getUserSnapShot(userObj));\n  }, [userObj]);\n\n  useEffect(async () => {\n    onAuthStateChanged(authService, async (user) => {\n      if (user) {\n        setUserObj({\n          uid: user.uid,\n          photoUrl: user.photoURL\n            ? user.photoURL\n            : \"https://img1.daumcdn.net/thumb/R1280x0.fjpg/?fname=http://t1.daumcdn.net/brunch/service/user/7r5X/image/9djEiPBPMLu_IvCYyvRPwmZkM1g.jpg\",\n          displayName: user.displayName\n            ? user.displayName\n            : user.email.split(\"@\")[0],\n        });\n        setIsLoggedIn(true);\n      } else {\n        setUserObj(null);\n        setIsLoggedIn(false);\n      }\n      setInit(true);\n    });\n  }, []);\n  const refreshUser = async () => {\n    const user = await authService.currentUser;\n    if (user) {\n      setUserObj({\n        uid: user.uid,\n        photoUrl: user.photoURL\n          ? user.photoURL\n          : \"https://img1.daumcdn.net/thumb/R1280x0.fjpg/?fname=http://t1.daumcdn.net/brunch/service/user/7r5X/image/9djEiPBPMLu_IvCYyvRPwmZkM1g.jpg\",\n        displayName: user.displayName\n          ? user.displayName\n          : user.email.split(\"@\")[0],\n      });\n    } else {\n      setUserObj(null);\n    }\n    setUserSnapShot(await getUserSnapShot(userObj));\n  };\n  return (\n    <>\n      <GlobalStyles />\n      {init ? (\n        <AppRouter\n          refreshUser={refreshUser}\n          userObj={userObj}\n          isLoggedIn={isLoggedIn}\n          userSnapShot={userSnapShot}\n        />\n      ) : (\n        <span>Loading...</span>\n      )}\n    </>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App></App>, document.getElementById(\"root\"));\n"],"sourceRoot":""}