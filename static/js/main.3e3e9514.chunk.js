(this.webpackJsonpnwitter=this.webpackJsonpnwitter||[]).push([[0],{16:function(e,t,n){"use strict";n.r(t),n.d(t,"firebaseApp",(function(){return o})),n.d(t,"authService",(function(){return s})),n.d(t,"dbService",(function(){return u})),n.d(t,"storageService",(function(){return b}));var r=n(56),c=n(57),a=n(58),i=n(59),o=Object(r.a)({apiKey:"AIzaSyC6d2rzFtMpx6Y3k-usaOOK2onpxyN1mmU",authDomain:"ntwitter-8313d.firebaseapp.com",projectId:"ntwitter-8313d",storageBucket:"ntwitter-8313d.appspot.com",messagingSenderId:"135453840930",appId:"1:135453840930:web:735c0d5f669e53cd9a5c7b"}),s=Object(c.a)(),u=Object(a.a)(),b=Object(i.a)(o)},81:function(e,t,n){"use strict";n.r(t);var r,c,a,i,o,s,u,b,d,p,l,j,x,h,f,O,m,g,w,v,y,k,S,C,N,U,z,R,L,D,P,I,A,E=n(6),F=n(55),M=n.n(F),B=n(0),q=n.n(B),_=n(1),V=n(11),X=n(14),Y=n(23),Z=n(16),W=n(12),T=W.query,H=W.collection,J=W.where,K=W.getDocs,G=n(16).dbService,Q=function(){var e=Object(_.a)(q.a.mark((function e(t){var n,r;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}return e.next=3,T(H(G,"user"),J("uid","==",t.uid));case 3:return n=e.sent,e.next=6,K(n);case 6:return e.next=8,e.sent.docs[0];case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=n(13),ee=n(34),te=n(19),ne=n(12),re=n(21),ce=n(15),ae=n(28),ie=n(32),oe=n(33),se=n(53),ue=$.b.div(r||(r=Object(X.a)(["\n  background-color: white;\n  position: relative;\n  outline: none;\n  padding: 12px 5px;\n  margin: 12px 0px;\n  border-radius: 12px;\n  border: 2px solid white;\n  box-shadow: inset 0px 1px 1px rgba(0, 0, 0, 0.33);\n  transition: all 0.5s;\n"]))),be=$.b.div(c||(c=Object(X.a)(["\n  display: flex;\n  > div {\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n  }\n"]))),de=$.b.div(a||(a=Object(X.a)(['\n  margin-top: 15px;\n  border-top: 2px solid rgba(0, 0, 0, 0.8);\n\n  .controller {\n    margin-top: 5px;\n    display: flex;\n    gap: 5px;\n    span {\n      font-size: min(5vw, 25px);\n    }\n  }\n  .commentFactory {\n    input {\n      outline: none;\n      border-radius: 15px;\n      width: min(300px, 50vw);\n      height: 50px;\n      border: none;\n      box-shadow: rgba(99, 99, 99, 0.4) 0px 2px 8px 0px;\n      margin: 15px 0px;\n    }\n    input[type="submit"] {\n      cursor: pointer;\n      color: rgb(4, 170, 255);\n      background: none;\n      box-shadow: none;\n      font-size: 16px;\n      font-weight: 600;\n      margin-left: 6px;\n      height: 50px;\n      width: 50px;\n    }\n  }\n\n  .moreComments {\n    cursor: pointer;\n    border: none;\n    width: min(300px, 50vw);\n    box-shadow: rgba(0, 0, 0, 0.05) 0px 6px 24px 0px,\n      rgba(0, 0, 0, 0.08) 0px 0px 0px 1px;\n    background-color: white;\n    border-radius: 8px;\n    transition: all 0.2s;\n    color: #03a9f4;\n    :hover {\n      color: white;\n      background-color: #03a9f4;\n    }\n  }\n']))),pe=$.b.button(i||(i=Object(X.a)(["\n  appearance: button;\n\n  background-color: ",";\n\n  border: solid transparent;\n  border-radius: min(16px, 3vw);\n  border-width: 0 0 min(4px, 0.8vw);\n  box-sizing: border-box;\n  color: #ffffff;\n  cursor: pointer;\n  display: inline-block;\n  font-family: din-round, sans-serif;\n  font-size: min(12px, 2vw);\n  font-weight: 700;\n  letter-spacing: 0.8px;\n  line-height: min(20px, 4vw);\n  margin: 0;\n  outline: none;\n  overflow: visible;\n  padding: 3px min(16px, 3vw);\n  text-align: center;\n  text-transform: uppercase;\n  touch-action: manipulation;\n  transform: translateZ(0);\n  transition: filter 0.2s;\n  user-select: none;\n  -webkit-user-select: none;\n  vertical-align: middle;\n  white-space: nowrap;\n  /* width: 100%; */\n  :after {\n    background-clip: padding-box;\n    background-color: ",';\n    border: solid transparent;\n    border-radius: 16px;\n    border-width: 0 0 4px;\n    bottom: -4px;\n    content: "";\n    left: 0;\n    position: absolute;\n    right: 0;\n    top: 0;\n    z-index: -1;\n  }\n  :main,\n  :focus {\n    user-select: auto;\n  }\n  :hover:not(:disabled) {\n    filter: brightness(1.1);\n  }\n  :disabled {\n    cursor: auto;\n  }\n'])),(function(e){return"Cancel"===e.children?"#D54D52":"#1899d6"}),(function(e){return"Cancel"===e.children?"#D54D52":"#1cb0f6"})),le=$.b.img(o||(o=Object(X.a)(["\n  width: 50px;\n  border-radius: 50%;\n"]))),je=Object($.b)(pe)(s||(s=Object(X.a)([""]))),xe=Object($.b)(pe)(u||(u=Object(X.a)(["\n  display: ",";\n"])),(function(e){return e.showEdit?"block":"none"})),he=$.b.div(b||(b=Object(X.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  /* transform: translateX(370px); */\n"]))),fe=$.b.div(d||(d=Object(X.a)(['\n  display: flex;\n  flex-direction: column;\n  img {\n    margin-top: 15px;\n    width: min(400px, 58vw);\n    border-radius: 15px;\n    max-height: 500px;\n  }\n  input[type="text"] {\n    font-size: 16px;\n    margin-left: 12px;\n  }\n']))),Oe=$.b.span(p||(p=Object(X.a)(["\n  display: inline-block;\n  font-weight: 600;\n  margin-left: 12px;\n  max-width: 100px;\n  white-space: nowrap;\n  overflow: hidden;\n"]))),me=$.b.span(l||(l=Object(X.a)(["\n  margin-left: 12px;\n  font-size: 22px;\n"]))),ge=n(82),we=n(4),ve=function(e){var t=e.userObj,n=e.commentObj,r=e.nweetObj,c=e.setComments,a=e.comments,i=function(){var e=Object(_.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.comments.filter((function(e){return e.id!==n.id})),e.next=3,Object(ne.updateDoc)(Object(ne.doc)(Z.dbService,"nweets/".concat(r.id)),{comments:t});case 3:c(a.filter((function(e){return e.id!==n.id})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(we.jsxs)("div",{children:[Object(we.jsxs)(ee.b,{to:n.data.uid===t.uid?"/profile":n.data.uid,children:[Object(we.jsx)("img",{src:n.data.photoURL,width:"50px"}),Object(we.jsx)("span",{children:n.data.displayName})]}),Object(we.jsx)("div",{children:Object(we.jsx)("div",{children:n.text})}),n.data.uid===t.uid&&Object(we.jsx)(we.Fragment,{children:Object(we.jsx)("button",{onClick:i,children:"Delete"})})]})},ye=function(e){var t=e.userObj,n=e.nweetObj,r=e.setComments,c=e.comments,a=Object(oe.a)(),i=a.getValues,o=a.register,s=a.handleSubmit,u=function(){var e=Object(_.a)(q.a.mark((function e(){var a,o,s,u,b,d;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i("text"),o={id:Object(ge.a)(),uid:t.uid,createdAt:Date.now(),text:a},e.next=4,Object(ne.query)(Object(ne.collection)(Z.dbService,"user"),Object(ne.where)("uid","==",o.uid));case 4:return s=e.sent,e.next=7,Object(ne.getDocs)(s);case 7:return u=e.sent,b={id:Object(ge.a)(),uid:t.uid,createdAt:Date.now(),data:u.docs[0].data(),text:a},d=[o].concat(Object(ce.a)(n.comments)),e.next=12,Object(ne.updateDoc)(Object(ne.doc)(Z.dbService,"nweets/".concat(n.id)),{comments:d});case 12:r([b].concat(Object(ce.a)(c)));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(we.jsx)(we.Fragment,{children:Object(we.jsxs)("form",{onSubmit:s(u),children:[Object(we.jsx)("input",Object(re.a)({type:"text"},o("text"))),Object(we.jsx)("input",{type:"submit",value:"\uac8c\uc2dc"})]})})},ke=function(e){var t=e.nweetObj,n=e.isOwner,r=e.userObj,c=(e.userSnapShot,Object(oe.a)()),a=c.register,i=c.getValues,o=c.handleSubmit,s=Object(E.useState)([]),u=Object(V.a)(s,2),b=u[0],d=u[1],p=Object(E.useState)(!0),l=Object(V.a)(p,2),j=l[0],x=l[1],h=Object(E.useState)(1),f=Object(V.a)(h,2),O=f[0],m=f[1],g=Object(E.useState)(""),w=Object(V.a)(g,2),v=w[0],y=w[1],k=Object(E.useState)(!1),S=Object(V.a)(k,2),C=S[0],N=S[1],U=Object(E.useState)(""),z=Object(V.a)(U,2),R=z[0],L=z[1],D=Object(E.useState)(!1),P=Object(V.a)(D,2),I=P[0],A=P[1],F=Object(E.useState)(t.likes.includes(r.uid)),M=Object(V.a)(F,2),B=M[0],X=M[1];Object(E.useEffect)((function(){T()}),[]);var Y=function(){var e=Object(_.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this nweet?")){e.next=8;break}if(e.t0=t.attachmentUrl,!e.t0){e.next=6;break}return e.next=6,Object(ae.a)(Object(ae.d)(Z.storageService,t.attachmentUrl));case 6:return e.next=8,Object(ne.deleteDoc)(Object(ne.doc)(Z.dbService,"nweets/".concat(t.id)));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(_.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(ne.updateDoc)(Object(ne.doc)(Z.dbService,"nweets/".concat(t.id)),{text:i("newNweet")}),A(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(_.a)(q.a.mark((function e(){var n,r,c,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.query)(Object(ne.collection)(Z.dbService,"user"),Object(ne.where)("uid","==",t.creatorId));case 2:return n=e.sent,e.next=5,Object(ne.getDocs)(n);case 5:r=e.sent,c=r.docs[0].data().photoURL,a=r.docs[0].data().displayName,L(a),y(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(_.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B?Object(ne.updateDoc)(Object(ne.doc)(Z.dbService,"nweets/".concat(t.id)),{likes:t.likes.filter((function(e){return e!==r.uid}))}):Object(ne.updateDoc)(Object(ne.doc)(Z.dbService,"nweets/".concat(t.id)),{likes:[r.uid].concat(Object(ce.a)(t.likes))}),X((function(e){return!e}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){d([]),x((function(e){return m(!0===e?function(e){return e+1}:1),!e})),j&&t.comments.map(function(){var e=Object(_.a)(q.a.mark((function e(t,n){var r,c,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n<3*O)){e.next=9;break}return e.next=3,Object(ne.query)(Object(ne.collection)(Z.dbService,"user"),Object(ne.where)("uid","==",t.uid));case 3:return r=e.sent,e.next=6,Object(ne.getDocs)(r);case 6:c=e.sent,a={id:t.id,uid:t.uid,data:c.docs[0].data(),text:t.text},d((function(e){return[a].concat(Object(ce.a)(e))}));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},K=function(){var e=Object(_.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m((function(e){return e+1})),t.comments.map(function(){var e=Object(_.a)(q.a.mark((function e(t,n){var r,c,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n>=3*(O-1)&&n<3*O)){e.next=9;break}return e.next=3,Object(ne.query)(Object(ne.collection)(Z.dbService,"user"),Object(ne.where)("uid","==",t.uid));case 3:return r=e.sent,e.next=6,Object(ne.getDocs)(r);case 6:c=e.sent,a={id:t.id,uid:t.uid,data:c.docs[0].data(),text:t.text},d((function(e){return[a].concat(Object(ce.a)(e))}));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(we.jsx)("div",{children:Object(we.jsxs)(ue,{children:[Object(we.jsxs)(be,{children:[Object(we.jsx)(ee.b,{to:n?"/profile":t.creatorId,children:Object(we.jsx)(le,{src:v})}),Object(we.jsxs)("div",{children:[Object(we.jsxs)(fe,{children:[Object(we.jsx)(Oe,{children:R}),I?Object(we.jsx)("form",{onSubmit:o(W),children:Object(we.jsx)("input",Object(re.a)(Object(re.a)({id:"editNweet"},a("newNweet",{value:t.text})),{},{type:"text",placeholder:"Edit your nweet"}))}):Object(we.jsx)(me,{children:t.text}),t.attachmentUrl&&Object(we.jsx)("img",{src:t.attachmentUrl})]}),n?Object(we.jsxs)(he,{showEdit:C,children:[Object(we.jsx)(je,{onClick:function(){N((function(e){return e&&A(!1),!e}))},showEdit:C,children:C?"Cancel":"Edit"}),Object(we.jsx)(xe,{showEdit:C,onClick:Y,children:"Delete Nweet"}),Object(we.jsx)(xe,{showEdit:C,onClick:function(){A((function(e){return!e}))},children:"Edit Nweet"}),Object(we.jsx)(xe,{showEdit:C,onClick:o(W),children:"Update Nweet"})]}):Object(we.jsx)(he,{})]})]}),Object(we.jsxs)(de,{children:[Object(we.jsxs)("div",{className:"controller",children:[Object(we.jsx)("span",{style:{cursor:"pointer"},onClick:H,children:B?"\ud83e\udde1":"\ud83e\udd0d"}),Object(we.jsx)("span",{children:Object(we.jsx)(ie.a,{onClick:J,style:{cursor:"pointer"},icon:se.b,size:"lg"})})]}),Object(we.jsxs)("div",{style:{fontWeight:"bold"},children:[" ","\uc88b\uc544\uc694 ",t.likes.length,"\uac1c"]}),Object(we.jsxs)("div",{style:{opacity:"0.7"},children:["\ub313\uae00 ",t.comments.length,"\uac1c"," ",Object(we.jsx)("span",{style:{cursor:"pointer"},onClick:J,children:j?"\ubaa8\ub450 \ubcf4\uae30":"\ub2eb\uae30"})]}),!j&&Object(we.jsx)("div",{className:"commentFactory",children:Object(we.jsx)(ye,{userObj:r,nweetObj:t,setComments:d,comments:b})}),b.map((function(e){return Object(we.jsx)(ve,{userObj:r,commentObj:e,nweetObj:t,setComments:d,comments:b,className:"comment"},e.id)})),!j&&Object(we.jsx)("div",{className:"more",children:Object(we.jsxs)("button",{onClick:K,className:"moreComments",children:[Object(we.jsx)(ie.a,{icon:se.a,size:"2x"}),Object(we.jsx)("span",{children:"\ub354\ubcf4\uae30"})]})})]})]})})},Se=$.b.button(j||(j=Object(X.a)(["\n  outline: none;\n  height: 30px;\n  text-align: center;\n  width: min(30vw, 180px);\n  border-radius: 12px;\n  border: 1px solid #04aaff;\n  box-shadow: inset 0px 1px 1px rgba(0, 0, 0, 0.33);\n  background-color: white;\n  cursor: pointer;\n  color: #1cb2ff;\n  font-size: 15px;\n  font-weight: 600;\n  transition: color 0.2s;\n  :hover {\n    background-color: #1cb2ff;\n    color: white;\n  }\n"]))),Ce=$.b.div(x||(x=Object(X.a)(["\n  position: relative;\n  margin-top: 80px;\n  width: min(90vw, 520px);\n  padding: 22px 22px;\n  border-radius: 15px;\n  background-color: rgba(238, 238, 238, 0.6);\n  box-shadow: rgba(0, 0, 0, 0.02) 0px 1px 3px 0px,\n    rgba(27, 31, 35, 0.15) 0px 0px 0px 1px;\n"]))),Ne=$.b.div(h||(h=Object(X.a)(["\n  margin-bottom: 5px;\n  bottom: -10px;\n  display: flex;\n  gap: 30px;\n  justify-content: center;\n"]))),Ue=function(e){var t=e.nweets,n=e.setPage,r=function(e){window.scrollTo(0,0);var r=e.target.id;n("prev"==r?function(e){return e<=1?1:e-1}:function(e){return t.length<5?e:e+1})};return Object(we.jsxs)(Ne,{children:[Object(we.jsx)(Se,{id:"prev",onClick:r,children:"\u25c0"}),Object(we.jsx)(Se,{id:"next",onClick:r,children:"\u25b6"})]})},ze=n(12),Re=ze.query,Le=ze.collection,De=ze.orderBy,Pe=ze.limit,Ie=ze.getDocs,Ae=ze.startAfter,Ee=ze.onSnapshot,Fe=ze.where,Me=n(16).dbService,Be=function(){var e=Object(_.a)(q.a.mark((function e(t,n,r,c){var a,i,o;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t<1)){e.next=2;break}return e.abrupt("return");case 2:a=c?Re(Le(Me,"nweets"),De("createdAt","desc"),Fe("creatorId","==",c),Pe(5)):Re(Le(Me,"nweets"),De("createdAt","desc"),Pe(5));case 3:if(!(t>1)){e.next=12;break}return e.next=6,Ie(a);case 6:i=e.sent,o=i.docs[i.docs.length-1],a=c?Re(Le(Me,"nweets"),De("createdAt","desc"),Fe("creatorId","==",c),Ae(o),Pe(5)):Re(Le(Me,"nweets"),De("createdAt","desc"),Ae(o),Pe(5)),t-=1,e.next=3;break;case 12:return e.next=14,Ee(a,(function(e){var t=e.docs.map((function(e){return Object(re.a)({id:e.id},e.data())}));t.length<1&&n((function(e){return e-1})),r(t)}));case 14:case"end":return e.stop()}}),e)})));return function(t,n,r,c){return e.apply(this,arguments)}}(),qe=$.b.div(f||(f=Object(X.a)(["\n  display: flex;\n  gap: 15px;\n  img {\n    border-radius: 25px;\n  }\n  span {\n    font-size: 25px;\n    font-weight: 600;\n  }\n"]))),_e=function(e){e.refreshUser;var t,n=e.userObj,r=Object(E.useState)([]),c=Object(V.a)(r,2),a=c[0],i=c[1],o=Object(E.useState)(1),s=Object(V.a)(o,2),u=s[0],b=s[1],d=Object(E.useState)(""),p=Object(V.a)(d,2),l=p[0],j=p[1],x=Object(E.useState)(""),h=Object(V.a)(x,2),f=h[0],O=h[1],m=Object(te.g)().uid,g=function(){var e=Object(_.a)(q.a.mark((function e(){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.query)(Object(ne.collection)(Z.dbService,"user"),Object(ne.where)("uid","==",m));case 2:return n=e.sent,e.next=5,Object(ne.getDocs)(n);case 5:t=e.sent,j(t.docs[0].data().photoURL),O(t.docs[0].data().displayName);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(E.useEffect)((function(){g()})),Object(E.useEffect)((function(){Be(u,b,i,m)}),[u]),Object(we.jsxs)(Ce,{children:[Object(we.jsxs)(qe,{children:[Object(we.jsx)("img",{src:l,width:"150px"}),Object(we.jsxs)("span",{children:[f,"'s Profile"]})]}),a.map((function(e){return Object(we.jsx)(ke,{nweetObj:e,isOwner:!1,userObj:n},e.id)})),Object(we.jsx)(Ue,{nweets:a,setPage:b})]})},Ve=n(64),Xe=(n(80),function(e){var t=e.attachment,n=e.setAttachment,r=e.setIsCrop,c=Object(E.useState)(t),a=Object(V.a)(c,2),i=a[0],o=(a[1],Object(E.useState)("#")),s=Object(V.a)(o,2),u=(s[0],s[1],Object(E.useState)()),b=Object(V.a)(u,2),d=b[0],p=b[1];return Object(we.jsx)(we.Fragment,{children:Object(we.jsx)(ue,{children:Object(we.jsxs)("div",{children:[Object(we.jsx)(Ve.a,{style:{height:400,width:"100%",zIndex:1},zoomTo:.1,initialAspectRatio:1,preview:".img-preview",src:i,viewMode:1,dragMode:"move",minCropBoxHeight:10,minCropBoxWidth:10,cropBoxResizable:!1,background:!1,responsive:!0,autoCropArea:1,checkOrientation:!1,onInitialized:function(e){p(e)},guides:!0}),Object(we.jsx)(he,{children:Object(we.jsx)(pe,{onClick:function(){"undefined"!==typeof d&&(n(d.getCroppedCanvas().toDataURL()),r(!1))},children:"Crop Image"})})]})})})}),Ye=$.b.form(O||(O=Object(X.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),Ze=$.b.input(m||(m=Object(X.a)(["\n  outline: none;\n  padding: 12px 5px;\n  margin: 12px 0px;\n  border-radius: 12px;\n  border: 2px solid white;\n  box-shadow: inset 0px 1px 1px rgba(0, 0, 0, 0.33);\n"]))),We=Object($.b)(Ze)(g||(g=Object(X.a)(["\n  background-color: white;\n  cursor: pointer;\n  color: #1cb2ff;\n  font-size: 15px;\n  font-weight: 600;\n  transition: all 0.2s;\n  :hover {\n    background-color: #1cb2ff;\n    color: white;\n  }\n"]))),Te=$.b.button(w||(w=Object(X.a)(["\n  background-color: tomato;\n  border-radius: 4px;\n  border-style: none;\n  box-sizing: border-box;\n  color: #fff;\n  cursor: pointer;\n  display: inline-block;\n  font-size: 16px;\n  font-weight: 700;\n  line-height: 1.5;\n  outline: none;\n  overflow: hidden;\n  padding: 9px 20px 8px;\n  position: relative;\n  text-align: center;\n  text-transform: none;\n  user-select: none;\n  -webkit-user-select: none;\n  touch-action: manipulation;\n  width: 100%;\n  :hover {\n    opacity: 0.75;\n  }\n"]))),He=$.b.div(v||(v=Object(X.a)(['\n  input[type="file"] {\n    width: 0px;\n  }\n  display: flex;\n  flex-direction: column;\n  input[type="text"] {\n    outline: none;\n    border: none;\n    border-radius: 15px;\n    height: 50px;\n    width: 100%;\n    font-size: 23px;\n    font-weight: 600;\n    background-color: inherit;\n  }\n  form {\n    margin-top: 5px;\n    display: flex;\n    flex-direction: column;\n  }\n']))),Je=$.b.button(y||(y=Object(X.a)(["\n  box-sizing: border-box;\n  margin-bottom: 15px;\n  padding: 6px;\n  cursor: pointer;\n  border: none;\n  width: 100%;\n  box-shadow: rgba(0, 0, 0, 0.05) 0px 6px 24px 0px,\n    rgba(0, 0, 0, 0.08) 0px 0px 0px 1px;\n  background-color: white;\n  border-radius: 8px;\n  transition: all 0.2s;\n  color: #03a9f4;\n  :hover {\n    color: white;\n    background-color: #03a9f4;\n  }\n"]))),Ke=$.b.label(k||(k=Object(X.a)(["\n  margin-bottom: 15px;\n  box-sizing: border-box;\n  padding: 6px;\n  text-align: center;\n  cursor: pointer;\n  border: none;\n  width: 100%;\n  box-shadow: rgba(0, 0, 0, 0.05) 0px 6px 24px 0px,\n    rgba(0, 0, 0, 0.08) 0px 0px 0px 1px;\n  background-color: white;\n  border-radius: 8px;\n  transition: all 0.2s;\n  color: #03a9f4;\n  :hover {\n    color: white;\n    background-color: #03a9f4;\n  }\n"]))),Ge=Object($.b)(Te)(S||(S=Object(X.a)(["\n  cursor: pointer;\n  position: absolute;\n  right: 15px;\n  width: 100px;\n  font-size: 15px;\n  cursor: pointer;\n  position: absolute;\n  right: 15px;\n"]))),Qe=$.b.label(C||(C=Object(X.a)(["\n  margin-top: 5px;\n  display: block;\n  position: relative;\n  background-image: ",";\n  background-size: 150px 150px;\n  width: 150px;\n  height: 150px;\n  border-radius: 50%;\n  cursor: pointer;\n  button {\n    position: absolute;\n    top: -30px;\n    left: -15px;\n    white-space: nowrap;\n  }\n"])),(function(e){return"url(".concat(e.img,")")})),$e=function(e){var t=e.refreshUser,n=e.userObj,r=e.userSnapShot,c=Object(E.useState)(0),a=Object(V.a)(c,2),i=(a[0],a[1]),o=Object(oe.a)(),s=o.register,u=o.handleSubmit,b=o.setValue,d=o.getValues;b("newDisplayName",n.displayName);var p=Object(E.useState)(1),l=Object(V.a)(p,2),j=l[0],x=l[1],h=Object(E.useState)(""),f=Object(V.a)(h,2),O=f[0],m=f[1],g=Object(E.useState)(!1),w=Object(V.a)(g,2),v=w[0],y=w[1],k=Object(E.useState)([]),S=Object(V.a)(k,2),C=S[0],N=S[1];Object(E.useEffect)((function(){Be(j,x,N,n.uid)}),[j]);Object(E.useEffect)((function(){C.forEach((function(e){return i((function(t){return t+e.likes.length}))}))}),[]);var U=Object(te.f)(),z=function(){var e=Object(_.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Y.i)(Z.authService);case 2:U.push("/"),window.location.reload();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(_.a)(q.a.mark((function e(){var c,a,i,o;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=d(),a=c.newDisplayName,i=null,""===O){e.next=9;break}return o=Object(ae.d)(Z.storageService,"".concat(n.uid,"/profile")),e.next=6,Object(ae.e)(o,O,"data_url");case 6:return e.next=8,Object(ae.b)(o);case 8:i=e.sent;case 9:if(n.displayName===a&&n.photoUrl===i){e.next=20;break}return e.t0=Y.j,e.next=13,Z.authService.currentUser;case 13:return e.t1=e.sent,e.t2={displayName:a,photoURL:i},e.next=17,(0,e.t0)(e.t1,e.t2);case 17:return e.next=19,Object(ne.updateDoc)(Object(ne.doc)(Z.dbService,"user/".concat(r.id)),{displayName:a,photoURL:i});case 19:t();case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){return m(null)};return Object(we.jsx)(we.Fragment,{children:Object(we.jsxs)(Ce,{children:[Object(we.jsxs)(He,{children:[Object(we.jsx)("form",{onSubmit:u(R),children:Object(we.jsx)("input",Object(re.a)(Object(re.a)({},s("newDisplayName")),{},{maxLength:"6",type:"text",placeholder:"Display name"}))}),Object(we.jsxs)("div",{style:{display:"flex"},children:[Object(we.jsx)(Qe,{htmlFor:"profilePhoto",img:O||n.photoUrl}),Object(we.jsxs)("div",{children:["\uac8c\uc2dc\uae00\uc218 ",C.length]})]}),v&&O&&Object(we.jsx)(Xe,{attachment:O,setAttachment:m,setIsCrop:y}),Object(we.jsxs)("form",{onSubmit:u(R),children:[Object(we.jsx)("input",Object(re.a)(Object(re.a)({},s("profilePhoto")),{},{onChange:function(e){y(!0);var t=e.target.files[0];if(t.size>5242880)return alert("\ud504\ub85c\ud544 \uc0ac\uc774\uc988\ub294 5MB \uc774\ub0b4\ub85c \ub4f1\ub85d \uac00\ub2a5\ud569\ub2c8\ub2e4."),void L();var n=new FileReader;n.onloadend=function(e){var t=e.currentTarget.result;m(t)},n.readAsDataURL(t)},id:"profilePhoto",type:"file",accept:"image/*"})),Object(we.jsx)(Ke,{htmlFor:"profilePhoto",children:"\uc0ac\uc9c4 \ud3b8\uc9d1"}),Object(we.jsx)(Je,{onClick:u(R),children:"Update"})]}),Object(we.jsx)(Ge,{onClick:z,children:"Log Out"})]}),C.map((function(e){return Object(we.jsx)(ke,{nweetObj:e,isOwner:e.creatorId===n.uid,userObj:n},e.id)})),Object(we.jsx)(Ue,{nweets:C,setPage:x})]})})},et=n(40),tt=$.b.div(N||(N=Object(X.a)(["\n  width: 300px;\n  display: flex;\n  flex-direction: column;\n"]))),nt=$.b.h4(U||(U=Object(X.a)([""]))),rt=function(){var e=Object(oe.a)(),t=e.register,n=e.handleSubmit,r=e.getValues,c=Object(E.useState)(!1),a=Object(V.a)(c,2),i=a[0],o=a[1],s=Object(E.useState)(""),u=Object(V.a)(s,2),b=u[0],d=u[1],p=function(){var e=Object(_.a)(q.a.mark((function e(){var t,n,c,a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r(),n=t.email,c=t.password,e.prev=1,!i){e.next=10;break}return e.next=5,Object(Y.c)(Z.authService,n,c);case 5:return a=e.sent,e.next=8,Object(ne.addDoc)(Object(ne.collection)(Z.dbService,"user"),{uid:a.user.uid,photoURL:a.user.photoURL?a.user.photoURL:"https://img1.daumcdn.net/thumb/R1280x0.fjpg/?fname=http://t1.daumcdn.net/brunch/service/user/7r5X/image/9djEiPBPMLu_IvCYyvRPwmZkM1g.jpg",displayName:a.user.displayName?a.user.displayName:a.user.email.split("@")[0],nweets:[]});case 8:e.next=12;break;case 10:return e.next=12,Object(Y.g)(Z.authService,n,c);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),d(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}();return Object(we.jsxs)(tt,{children:[Object(we.jsxs)(Ye,{onSubmit:n(p),children:[Object(we.jsx)(Ze,Object(re.a)(Object(re.a)({},t("email")),{},{type:"email",placeholder:"Email",required:!0})),Object(we.jsx)(Ze,Object(re.a)(Object(re.a)({},t("password")),{},{type:"password",placeholder:"Password",required:!0})),Object(we.jsx)(We,{className:"submit",type:"submit",value:i?"Create Account":"Log In",required:!0})]}),Object(we.jsx)(Te,{onClick:function(){return o((function(e){return!e}))},children:i?"LogIn":"CreateAccount"}),Object(we.jsx)(nt,{children:b})]})},ct=$.b.div(z||(z=Object(X.a)(["\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n  flex-direction: column;\n  background-color: ",";\n  opacity: 0.9;\n  height: 550px;\n  border-radius: 25px;\n"])),"#F8F8F8"),at=$.b.button(R||(R=Object(X.a)(["\n  position: relative;\n  background-color: #ffffff;\n  border-radius: 15px;\n  padding: 15px;\n  margin: 10px;\n  height: 50px;\n  font-size: 13px;\n  font-weight: bold;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: all 0.2s;\n  cursor: pointer;\n"]))),it=$.b.div(L||(L=Object(X.a)(["\n  display: flex;\n  .github:hover {\n    background-color: #333333;\n    color: #ffffff;\n  }\n  .google:hover {\n    background-color: #de463b;\n    color: #ffffff;\n  }\n"]))),ot=function(e){var t=function(){var e=Object(_.a)(q.a.mark((function e(t){var n,r,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.className,console.log(n),"google"===n?(r=new Y.b,console.log("try google")):"github"===n&&(r=new Y.a,console.log("try github")),e.prev=3,e.next=6,Object(Y.h)(Z.authService,r);case 6:return c=e.sent,e.next=9,Object(Y.d)(c).isNewUser;case 9:if(!e.sent){e.next=12;break}return e.next=12,Object(ne.addDoc)(Object(ne.collection)(Z.dbService,"user"),{uid:c.user.uid,photoURL:c.user.photoURL?c.user.photoURL:"https://img1.daumcdn.net/thumb/R1280x0.fjpg/?fname=http://t1.daumcdn.net/brunch/service/user/7r5X/image/9djEiPBPMLu_IvCYyvRPwmZkM1g.jpg",displayName:c.user.displayName?c.user.displayName:c.user.email.split("@")[0],nweets:[]});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(we.jsxs)(ct,{children:[Object(we.jsx)(ie.a,{icon:et.c,color:"#04AAFF",size:"3x"}),Object(we.jsx)(rt,{}),Object(we.jsxs)(it,{children:[Object(we.jsxs)(at,{onClick:t,name:"google",className:"google",children:[Object(we.jsx)("span",{className:"google",children:"Continue With Google \xa0 \xa0 "}),Object(we.jsx)(ie.a,{className:"google",icon:et.b,size:"2x"})]}),Object(we.jsxs)(at,{onClick:t,name:"github",className:"github",children:[Object(we.jsx)("span",{className:"github",children:"Continue With github \xa0 \xa0"}),Object(we.jsx)(ie.a,{className:"github",icon:et.a,size:"2x"})]})]})]})},st=n(50),ut=$.b.form(D||(D=Object(X.a)(['\n  position: relative;\n  width: min(91vw, 525px);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  label {\n    position: absolute;\n    right: min(22vw, 122px);\n    top: 22%;\n    color: #a6a3a1;\n  }\n  input[type="text"] {\n    box-sizing: border-box;\n    word-break: break-all;\n    word-wrap: break-word;\n    text-overflow: clip;\n    width: min(70vw, 440px);\n    height: min(10vw, 50px);\n    :focus {\n      height: min(15vw, 75px);\n    }\n    transition: all 0.5s;\n  }\n  input[type="file"] {\n    display: flex;\n    width: 0px;\n  }\n  .custom-file-upload {\n    display: inline-block;\n    padding: 6px 12px;\n    cursor: pointer;\n  }\n  input[type="submit"] {\n    padding: 0;\n    font-size: min(3vw, 15px);\n    width: min(15vw, 75px);\n    height: min(10vw, 50px);\n  }\n']))),bt=function(e){var t=e.setIsCrop,n=e.setAttachment;return Object(we.jsx)("input",{id:"file-upload",onChange:function(e){t(!0),n(null);var r=e.target.files[0];if(r.size>2097152)return alert("\ucca8\ubd80\ud30c\uc77c \uc0ac\uc774\uc988\ub294 2MB \uc774\ub0b4\ub85c \ub4f1\ub85d \uac00\ub2a5\ud569\ub2c8\ub2e4."),void n(null);var c=new FileReader;c.onloadend=function(e){var t=e.currentTarget.result;n(t)},c.readAsDataURL(r),e.target.value=""},type:"file",accept:"image/*"})},dt=function(e){var t=e.userObj,n=e.refreshUser,r=Object(E.useState)(null),c=Object(V.a)(r,2),a=c[0],i=c[1],o=Object(E.useState)(!1),s=Object(V.a)(o,2),u=s[0],b=s[1],d=Object(oe.a)(),p=d.register,l=d.handleSubmit,j=d.getValues,x=d.setValue,h=function(){var e=Object(_.a)(q.a.mark((function e(){var r,c,o,s,u;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=j(),c=r.nweet,null!==a||c){e.next=4;break}return alert("Input Nweet or Photo please"),e.abrupt("return");case 4:if(o=null,null===a){e.next=12;break}return s=Object(ae.d)(Z.storageService,"".concat(t.uid,"/").concat(Object(ge.a)())),e.next=9,Object(ae.e)(s,a,"data_url");case 9:return e.next=11,Object(ae.b)(s);case 11:o=e.sent;case 12:return u={text:c,likes:[],comments:[],createdAt:Date.now(),attachmentUrl:o,creatorId:t.uid,creatorName:t.displayName,photoURL:t.photoURL?t.photoURL:"https://img1.daumcdn.net/thumb/R1280x0.fjpg/?fname=http://t1.daumcdn.net/brunch/service/user/7r5X/image/9djEiPBPMLu_IvCYyvRPwmZkM1g.jpg"},e.next=15,Object(ne.addDoc)(Object(ne.collection)(Z.dbService,"nweets"),u);case 15:e.sent,n(),i(null),x("nweet","");case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(we.jsxs)(we.Fragment,{children:[Object(we.jsxs)(ut,{onSubmit:l(h),children:[Object(we.jsx)(Ze,Object(re.a)(Object(re.a)({},p("nweet")),{},{type:"text",placeholder:"What's on your mind?",maxLength:80})),Object(we.jsxs)("label",{htmlFor:"file-upload",className:"custom-file-upload",children:[Object(we.jsx)(ie.a,{icon:st.a,size:"lg"}),Object(we.jsx)(bt,{setAttachment:i,setIsCrop:b})]}),Object(we.jsx)(We,{type:"submit",value:"\uac8c\uc2dc"})]}),a&&u&&Object(we.jsx)(Xe,{attachment:a,setAttachment:i,setIsCrop:b}),a&&!u&&Object(we.jsx)(ue,{children:Object(we.jsxs)("div",{children:[Object(we.jsx)(fe,{children:Object(we.jsx)("img",{src:a})}),Object(we.jsxs)(he,{children:[Object(we.jsx)(pe,{onClick:function(){return i(null)},children:"Cancel"}),Object(we.jsx)(pe,{onClick:function(){return b(!0)},children:"Crop Size"})]})]})})]})},pt=function(e){var t=e.userObj,n=e.page,r=e.setPage,c=e.userSnapShot,a=e.refreshUser,i=Object(E.useState)([]),o=Object(V.a)(i,2),s=o[0],u=o[1];return Object(E.useEffect)(Object(_.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Be(n,r,u);case 1:case"end":return e.stop()}}),e)}))),[n]),Object(we.jsx)(we.Fragment,{children:Object(we.jsxs)(Ce,{children:[Object(we.jsx)(dt,{userObj:t,userSnapShot:c,refreshUser:a}),s.map((function(e){return Object(we.jsx)(ke,{nweetObj:e,isOwner:e.creatorId===t.uid,userObj:t,userSnapShot:c,refreshUser:a},e.id)})),Object(we.jsx)(Ue,{nweets:s,setPage:r})]})})},lt=$.b.div(P||(P=Object(X.a)(["\n  padding: 0px 20px 10px 20px;\n  height: 70px;\n  /* border-radius: 25px; */\n  /* background-color: cyan; */\n  position: absolute;\n  top: 0px;\n  display: flex;\n  justify-content: space-between;\n  width: 91vw;\n  max-width: 525px;\n  align-items: center;\n  img {\n    border-radius: 50%;\n    max-width: 48px;\n    max-height: 48px;\n  }\n\n  span {\n    display: none;\n  }\n  a {\n    color: white;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n  }\n  a:hover {\n    span {\n      display: inline-block;\n      z-index: 1;\n      font-weight: 600;\n      background-color: #9bd2c3;\n      padding: 5px;\n      top: 40px;\n      border-radius: 5px;\n      position: absolute;\n      white-space: nowrap;\n      overflow: hidden;\n      max-width: 100px;\n    }\n  }\n"]))),jt=function(e){var t=e.userObj,n=e.setPage;return Object(we.jsxs)(lt,{children:[Object(we.jsxs)(ee.b,{to:"/",onClick:function(){n(1)},children:[Object(we.jsx)("span",{children:"home"}),Object(we.jsx)(ie.a,{icon:et.c,color:"#04AAFF",size:"3x"})]}),Object(we.jsxs)(ee.b,{to:"/profile",children:[Object(we.jsx)("span",{children:null===t||void 0===t?void 0:t.displayName}),Object(we.jsx)("img",{src:(null===t||void 0===t?void 0:t.photoUrl)?t.photoUrl:"https://img1.daumcdn.net/thumb/R1280x0.fjpg/?fname=http://t1.daumcdn.net/brunch/service/user/7r5X/image/9djEiPBPMLu_IvCYyvRPwmZkM1g.jpg"})]})]})},xt=$.b.div(I||(I=Object(X.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: aliceblue;\n  flex-direction: column;\n"]))),ht=function(e){var t=e.refreshUser,n=e.isLoggedIn,r=e.userObj,c=e.userSnapShot,a=Object(E.useState)(1),i=Object(V.a)(a,2),o=i[0],s=i[1];return Object(we.jsx)(ee.a,{children:Object(we.jsx)(te.c,{children:n?Object(we.jsxs)(xt,{children:[n&&Object(we.jsx)(jt,{userObj:r,setPage:s}),Object(we.jsxs)(te.c,{children:[Object(we.jsx)(te.a,{exact:!0,path:"/",children:Object(we.jsx)(pt,{userObj:r,page:o,setPage:s,userSnapShot:c,refreshUser:t})}),Object(we.jsx)(te.a,{exact:!0,path:"/profile",children:Object(we.jsx)($e,{userObj:r,refreshUser:t,userSnapShot:c})}),Object(we.jsx)(te.a,{exact:!0,path:"/:uid",children:Object(we.jsx)(_e,{userObj:r,refreshUser:t})})]})]}):Object(we.jsx)(xt,{children:Object(we.jsx)(te.a,{exact:!0,path:"/",children:Object(we.jsx)(ot,{})})})})})},ft=Object($.a)(A||(A=Object(X.a)(['\n\n  *{\n    /* font-family:"jua" */\n    font-family:"jua","Spoqa Han Sans Neo", "Spoqa Han Sans JP", sans-serif;\n  }\n  html{\n    scroll-behavior: smooth;\n  }\n  body{\n    background-color: #F0F8FF;\n  }\n    a {\n      text-decoration: none;\n      color:inherit;\n    }\n']))),Ot=function(){var e=Object(E.useState)(!1),t=Object(V.a)(e,2),n=t[0],r=t[1],c=Object(E.useState)(!1),a=Object(V.a)(c,2),i=a[0],o=a[1],s=Object(E.useState)(null),u=Object(V.a)(s,2),b=u[0],d=u[1],p=Object(E.useState)(),l=Object(V.a)(p,2),j=l[0],x=l[1];Object(E.useEffect)(Object(_.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=x,e.next=3,Q(b);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)}))),[b]),Object(E.useEffect)(Object(_.a)(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object(Y.f)(Z.authService,function(){var e=Object(_.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?(d({uid:t.uid,photoUrl:t.photoURL?t.photoURL:"https://img1.daumcdn.net/thumb/R1280x0.fjpg/?fname=http://t1.daumcdn.net/brunch/service/user/7r5X/image/9djEiPBPMLu_IvCYyvRPwmZkM1g.jpg",displayName:t.displayName?t.displayName:t.email.split("@")[0]}),o(!0)):(d(null),o(!1)),r(!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)}))),[]);var h=function(){var e=Object(_.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.authService.currentUser;case 2:return t=e.sent,d(t?{uid:t.uid,photoUrl:t.photoURL?t.photoURL:"https://img1.daumcdn.net/thumb/R1280x0.fjpg/?fname=http://t1.daumcdn.net/brunch/service/user/7r5X/image/9djEiPBPMLu_IvCYyvRPwmZkM1g.jpg",displayName:t.displayName?t.displayName:t.email.split("@")[0]}:null),e.t0=x,e.next=7,Q(b);case 7:e.t1=e.sent,(0,e.t0)(e.t1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(we.jsxs)(we.Fragment,{children:[Object(we.jsx)(ft,{}),n?Object(we.jsx)(ht,{refreshUser:h,userObj:b,isLoggedIn:i,userSnapShot:j}):Object(we.jsx)("span",{children:"Loading..."})]})};M.a.render(Object(we.jsx)(Ot,{}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.3e3e9514.chunk.js.map