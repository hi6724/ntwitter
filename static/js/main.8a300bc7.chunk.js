(this.webpackJsonpnwitter=this.webpackJsonpnwitter||[]).push([[0],{78:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var r,c,a,i,s,o,b,u,d,l,j,p,x,O,h,f,m,g,w,v,y,k,N,U,C,S,R,L,P,A,I,z=n(5),E=n(52),F=n.n(E),M=n(0),B=n.n(M),D=n(1),T=n(12),X=n(14),Y=n(22),Z=n(53),V=n(54),_=n(55),q=n(56),H=Object(Z.a)({apiKey:"AIzaSyC6d2rzFtMpx6Y3k-usaOOK2onpxyN1mmU",authDomain:"ntwitter-8313d.firebaseapp.com",projectId:"ntwitter-8313d",storageBucket:"ntwitter-8313d.appspot.com",messagingSenderId:"135453840930",appId:"1:135453840930:web:735c0d5f669e53cd9a5c7b"}),W=Object(V.a)(),J=Object(_.a)(),K=Object(q.a)(H),G=n(13),Q=n(34),$=n(18),ee=n(19),te=n(9),ne=n(27),re=n(31),ce=G.b.div(r||(r=Object(X.a)(["\n  display: flex;\n  background-color: white;\n  position: relative;\n  outline: none;\n  padding: 12px 5px;\n  margin: 12px 0px;\n  border-radius: 12px;\n  border: 2px solid white;\n  box-shadow: inset 0px 1px 1px rgba(0, 0, 0, 0.33);\n  transition: all 0.5s;\n  > div {\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n  }\n"]))),ae=G.b.button(c||(c=Object(X.a)(['\n  appearance: button;\n  background-color: #1899d6;\n  border: solid transparent;\n  border-radius: min(16px, 3vw);\n  border-width: 0 0 min(4px, 0.8vw);\n  box-sizing: border-box;\n  color: #ffffff;\n  cursor: pointer;\n  display: inline-block;\n  font-family: din-round, sans-serif;\n  font-size: min(12px, 2vw);\n  font-weight: 700;\n  letter-spacing: 0.8px;\n  line-height: min(20px, 4vw);\n  margin: 0;\n  outline: none;\n  overflow: visible;\n  padding: 3px min(16px, 3vw);\n  text-align: center;\n  text-transform: uppercase;\n  touch-action: manipulation;\n  transform: translateZ(0);\n  transition: filter 0.2s;\n  user-select: none;\n  -webkit-user-select: none;\n  vertical-align: middle;\n  white-space: nowrap;\n  /* width: 100%; */\n  :after {\n    background-clip: padding-box;\n    background-color: #1cb0f6;\n    border: solid transparent;\n    border-radius: 16px;\n    border-width: 0 0 4px;\n    bottom: -4px;\n    content: "";\n    left: 0;\n    position: absolute;\n    right: 0;\n    top: 0;\n    z-index: -1;\n  }\n  :main,\n  :focus {\n    user-select: auto;\n  }\n  :hover:not(:disabled) {\n    filter: brightness(1.1);\n  }\n  :disabled {\n    cursor: auto;\n  }\n']))),ie=G.b.img(a||(a=Object(X.a)(["\n  width: 50px;\n  border-radius: 50%;\n"]))),se=Object(G.b)(ae)(i||(i=Object(X.a)([""]))),oe=Object(G.b)(ae)(s||(s=Object(X.a)(["\n  display: ",";\n"])),(function(e){return e.showEdit?"block":"none"})),be=G.b.div(o||(o=Object(X.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  /* transform: translateX(370px); */\n"]))),ue=G.b.div(b||(b=Object(X.a)(['\n  display: flex;\n  flex-direction: column;\n  img {\n    margin-top: 15px;\n    width: 100%;\n    border-radius: 15px;\n    max-height: 500px;\n  }\n  input[type="text"] {\n    font-size: 16px;\n    margin-left: 12px;\n  }\n']))),de=G.b.span(u||(u=Object(X.a)(["\n  display: inline-block;\n  font-weight: 600;\n  margin-left: 12px;\n  max-width: 100px;\n  white-space: nowrap;\n  overflow: hidden;\n"]))),le=G.b.span(d||(d=Object(X.a)(["\n  margin-left: 12px;\n"]))),je=n(6),pe=function(e){var t=e.nweetObj,n=e.isOwner,r=e.userObj,c=Object(re.a)(),a=c.register,i=c.getValues,s=c.handleSubmit,o=Object(z.useState)(""),b=Object(T.a)(o,2),u=b[0],d=b[1],l=Object(z.useState)(!1),j=Object(T.a)(l,2),p=j[0],x=j[1],O=Object(z.useState)(""),h=Object(T.a)(O,2),f=h[0],m=h[1],g=Object(z.useState)(!1),w=Object(T.a)(g,2),v=w[0],y=w[1];Object(z.useEffect)((function(){U()}),[]);var k=function(){var e=Object(D.a)(B.a.mark((function e(){var n,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this nweet?")){e.next=16;break}if(e.t0=t.attachmentUrl,!e.t0){e.next=6;break}return e.next=6,Object(ne.a)(Object(ne.d)(K,t.attachmentUrl));case 6:return e.next=8,Object(te.c)(Object(te.d)(J,"nweets/".concat(t.id)));case 8:return e.next=10,Object(te.j)(Object(te.b)(J,"user"),Object(te.m)("uid","==",r.uid));case 10:return n=e.sent,e.next=13,Object(te.e)(n);case 13:return c=e.sent,e.next=16,Object(te.l)(Object(te.d)(J,"user/".concat(c.docs[0].id)),{nweets:c.docs[0].data().nweets.filter((function(e){return e.createdAt!==t.createdAt}))});case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(D.a)(B.a.mark((function e(){var n,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(te.l)(Object(te.d)(J,"nweets/".concat(t.id)),{text:i("newNweet")}),e.next=3,Object(te.j)(Object(te.b)(J,"user"),Object(te.m)("uid","==",r.uid));case 3:return n=e.sent,e.next=6,Object(te.e)(n);case 6:return c=e.sent,e.next=9,Object(te.l)(Object(te.d)(J,"user/".concat(c.docs[0].id)),{nweets:c.docs[0].data().nweets.map((function(e){return e.createdAt===t.createdAt&&(e.text=i("newNweet")),e}))});case 9:y(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(D.a)(B.a.mark((function e(){var n,r,c,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.j)(Object(te.b)(J,"user"),Object(te.m)("uid","==",t.creatorId));case 2:return n=e.sent,e.next=5,Object(te.e)(n);case 5:r=e.sent,c=r.docs[0].data().photoURL,a=r.docs[0].data().displayName,m(a),d(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(je.jsx)("div",{children:Object(je.jsxs)(ce,{children:[Object(je.jsx)(Q.b,{to:n?"/profile":t.creatorId,children:Object(je.jsx)(ie,{src:u})}),Object(je.jsxs)("div",{children:[Object(je.jsxs)(ue,{children:[Object(je.jsx)(de,{children:f}),v?Object(je.jsx)("form",{onSubmit:s(N),children:Object(je.jsx)("input",Object(ee.a)(Object(ee.a)({id:"editNweet"},a("newNweet",{value:t.text})),{},{type:"text",placeholder:"Edit your nweet"}))}):Object(je.jsx)(le,{children:t.text}),t.attachmentUrl&&Object(je.jsx)("img",{src:t.attachmentUrl})]}),n&&Object(je.jsxs)(be,{showEdit:p,children:[Object(je.jsx)(se,{onClick:function(){x((function(e){return e&&y(!1),!e}))},showEdit:p,children:p?"Calcel":"Edit"}),Object(je.jsx)(oe,{showEdit:p,onClick:k,children:"Delete Nweet"}),Object(je.jsx)(oe,{showEdit:p,onClick:function(){y((function(e){return!e}))},children:"Edit Nweet"}),Object(je.jsx)(oe,{showEdit:p,onClick:s(N),children:"Update Nweet"})]})]})]})})},xe=G.b.button(l||(l=Object(X.a)(["\n  outline: none;\n  height: 30px;\n  text-align: center;\n  width: min(30vw, 180px);\n  border-radius: 12px;\n  border: 1px solid #04aaff;\n  box-shadow: inset 0px 1px 1px rgba(0, 0, 0, 0.33);\n  background-color: white;\n  cursor: pointer;\n  color: #1cb2ff;\n  font-size: 15px;\n  font-weight: 600;\n  transition: color 0.2s;\n  :hover {\n    background-color: #1cb2ff;\n    color: white;\n  }\n"]))),Oe=G.b.div(j||(j=Object(X.a)(["\n  position: relative;\n  margin-top: 80px;\n  width: min(90vw, 520px);\n  padding: 22px 22px;\n  border-radius: 15px;\n  background-color: #a5c3dd;\n"]))),he=G.b.div(p||(p=Object(X.a)(["\n  margin-bottom: 5px;\n  bottom: -10px;\n  display: flex;\n  gap: 30px;\n  justify-content: center;\n"]))),fe=G.b.div(x||(x=Object(X.a)(["\n  display: flex;\n  gap: 15px;\n  img {\n    border-radius: 25px;\n  }\n  span {\n    font-size: 25px;\n    font-weight: 600;\n  }\n"]))),me=function(){var e,t=Object(z.useState)([]),n=Object(T.a)(t,2),r=n[0],c=n[1],a=Object(z.useState)(1),i=Object(T.a)(a,2),s=i[0],o=i[1],b=Object(z.useState)(""),u=Object(T.a)(b,2),d=u[0],l=u[1],j=Object(z.useState)(""),p=Object(T.a)(j,2),x=p[0],O=p[1],h=Object($.g)().uid,f=function(){var e=Object(D.a)(B.a.mark((function e(){var t,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.j)(Object(te.b)(J,"user"),Object(te.m)("uid","==",h));case 2:return t=e.sent,e.next=5,Object(te.e)(t);case 5:n=e.sent,l(n.docs[0].data().photoURL),O(n.docs[0].data().displayName);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(e){window.scrollTo(0,0);var t=e.target.id;o("prev"==t?function(e){return e<=1?1:e-1}:function(e){return r.length<5?e:e+1})},g=function(){var t=Object(D.a)(B.a.mark((function t(n){var r,a,i;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(te.j)(Object(te.b)(J,"nweets"),Object(te.i)("createdAt","desc"),Object(te.m)("creatorId","==",h),Object(te.g)(5));case 2:r=t.sent;case 3:if(!(n>1)){t.next=12;break}return t.next=6,Object(te.e)(r);case 6:a=t.sent,i=a.docs[a.docs.length-1],r=Object(te.j)(Object(te.b)(J,"nweets"),Object(te.i)("createdAt","desc"),Object(te.m)("creatorId","==",h),Object(te.k)(i),Object(te.g)(5)),n-=1,t.next=3;break;case 12:return t.next=14,Object(te.h)(r,(function(t){(e=t.docs.map((function(e){return Object(ee.a)({id:e.id},e.data())}))).length<1&&o((function(e){return e-1})),c(e)}));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(z.useEffect)((function(){g(s),f()}),[s]),Object(je.jsxs)(Oe,{children:[Object(je.jsxs)(fe,{children:[Object(je.jsx)("img",{src:d,width:"150px"}),Object(je.jsxs)("span",{children:[x,"'s Profile"]})]}),r.map((function(e){return Object(je.jsx)(pe,{nweetObj:e,isOwner:!1},e.id)})),Object(je.jsx)(xe,{id:"prev",onClick:m,children:"\u25c0"}),Object(je.jsx)(xe,{id:"next",onClick:m,children:"\u25b6"})]})},ge=G.b.form(O||(O=Object(X.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),we=G.b.input(h||(h=Object(X.a)(["\n  outline: none;\n  padding: 12px 5px;\n  margin: 12px 0px;\n  border-radius: 12px;\n  border: 2px solid white;\n  box-shadow: inset 0px 1px 1px rgba(0, 0, 0, 0.33);\n"]))),ve=Object(G.b)(we)(f||(f=Object(X.a)(["\n  background-color: white;\n  cursor: pointer;\n  color: #1cb2ff;\n  font-size: 15px;\n  font-weight: 600;\n  transition: all 0.2s;\n  :hover {\n    background-color: #1cb2ff;\n    color: white;\n  }\n"]))),ye=G.b.button(m||(m=Object(X.a)(['\n  background-color: #222;\n  border-radius: 4px;\n  border-style: none;\n  box-sizing: border-box;\n  color: #fff;\n  cursor: pointer;\n  display: inline-block;\n  font-family: "Farfetch Basis", "Helvetica Neue", Arial, sans-serif;\n  font-size: 16px;\n  font-weight: 700;\n  line-height: 1.5;\n  margin: 0;\n  max-width: none;\n  min-height: 44px;\n  min-width: 10px;\n  outline: none;\n  overflow: hidden;\n  padding: 9px 20px 8px;\n  position: relative;\n  text-align: center;\n  text-transform: none;\n  user-select: none;\n  -webkit-user-select: none;\n  touch-action: manipulation;\n  width: 100%;\n  :hover {\n    opacity: 0.75;\n  }\n']))),ke=G.b.div(g||(g=Object(X.a)(['\n  input[type="file"] {\n    width: 0px;\n  }\n  display: flex;\n  flex-direction: column;\n  input[type="text"] {\n    outline: none;\n    border: none;\n    border-radius: 15px;\n    margin-right: 15px;\n    padding: 5px 15px;\n    height: 50px;\n    width: 100%;\n    font-size: 17px;\n    font-weight: 600;\n  }\n  form {\n    margin-top: 15px;\n    display: flex;\n    justify-content: space-between;\n  }\n']))),Ne=Object(G.b)(ae)(w||(w=Object(X.a)([""]))),Ue=Object(G.b)(ye)(v||(v=Object(X.a)(["\n  cursor: pointer;\n  position: absolute;\n  right: 15px;\n  width: 100px;\n  font-size: 15px;\n  cursor: pointer;\n  position: absolute;\n  right: 15px;\n"]))),Ce=G.b.label(y||(y=Object(X.a)(["\n  margin-top: 25px;\n  display: block;\n  position: relative;\n  background-image: ",";\n  background-size: 100px 100px;\n  width: 100px;\n  height: 100px;\n  border-radius: 50%;\n  cursor: pointer;\n  button {\n    position: absolute;\n    top: -30px;\n    left: -15px;\n    white-space: nowrap;\n  }\n"])),(function(e){return"url(".concat(e.img,")")})),Se=function(e){var t=e.refreshUser,n=e.userObj,r=Object(re.a)(),c=r.register,a=r.handleSubmit,i=r.setValue,s=r.getValues;i("newDisplayName",n.displayName);var o=Object(z.useState)(1),b=Object(T.a)(o,2),u=b[0],d=b[1];console.log(n,u);var l,j=Object(z.useState)(n.photoUrl),p=Object(T.a)(j,2),x=p[0],O=p[1],h=Object(z.useState)([]),f=Object(T.a)(h,2),m=f[0],g=f[1],w=Object($.f)(),v=function(){var e=Object(D.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Y.i)(W);case 2:w.push("/"),window.location.reload();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(D.a)(B.a.mark((function e(t){var r,c,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t<1)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(te.j)(Object(te.b)(J,"nweets"),Object(te.i)("createdAt","desc"),Object(te.m)("creatorId","==",n.uid),Object(te.g)(5));case 4:r=e.sent;case 5:if(!(t>1)){e.next=14;break}return e.next=8,Object(te.e)(r);case 8:c=e.sent,a=c.docs[c.docs.length-1],r=Object(te.j)(Object(te.b)(J,"nweets"),Object(te.i)("createdAt","desc"),Object(te.m)("creatorId","==",n.uid),Object(te.k)(a),Object(te.g)(5)),t-=1,e.next=5;break;case 14:return e.next=16,Object(te.h)(r,(function(e){(l=e.docs.map((function(e){return Object(ee.a)({id:e.id},e.data())}))).length<1&&d((function(e){return e-1})),g(l)}));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(D.a)(B.a.mark((function e(){var r,c,a,i,o,b,u;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s(),c=r.newDisplayName,a=r.profilePhoto,i=n.photoUrl,!a[0]){e.next=9;break}return o=Object(ne.d)(K,"".concat(n.uid,"/profile")),e.next=6,Object(ne.e)(o,a[0]);case 6:return e.next=8,Object(ne.b)(o);case 8:i=e.sent;case 9:if(n.displayName===c&&n.photoUrl===i){e.next=26;break}return e.t0=Y.j,e.next=13,W.currentUser;case 13:return e.t1=e.sent,e.t2={displayName:c,photoURL:i},e.next=17,(0,e.t0)(e.t1,e.t2);case 17:return e.next=19,Object(te.j)(Object(te.b)(J,"user"),Object(te.m)("uid","==",n.uid));case 19:return b=e.sent,e.next=22,Object(te.e)(b);case 22:return u=e.sent,e.next=25,Object(te.l)(Object(te.d)(J,"user/".concat(u.docs[0].id)),{displayName:c,photoURL:i});case 25:t();case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(e){window.scrollTo(0,0),console.log(m.length);var t=e.target.id;d("prev"==t?function(e){return e<=1?1:e-1}:function(e){return m.length<5?e:e+1})};return Object(z.useEffect)((function(){y(u)}),[u]),Object(je.jsxs)(Oe,{children:[Object(je.jsxs)(ke,{children:[Object(je.jsx)(Ce,{htmlFor:"profilePhoto",img:x,children:Object(je.jsx)(ae,{children:"Change Photo"})}),Object(je.jsxs)("form",{onSubmit:a(k),children:[Object(je.jsx)("input",Object(ee.a)(Object(ee.a)({},c("newDisplayName")),{},{maxLength:"6",type:"text",placeholder:"Display name"})),Object(je.jsx)("input",Object(ee.a)(Object(ee.a)({},c("profilePhoto")),{},{onChange:function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=function(e){var t=e.currentTarget.result;O(t)},n.readAsDataURL(t)},id:"profilePhoto",type:"file",accept:"image/*"})),Object(je.jsx)(Ne,{onClick:a(k),children:"Update"})]}),Object(je.jsx)(Ue,{onClick:v,children:"Log Out"})]}),m.map((function(e){return Object(je.jsx)(pe,{nweetObj:e,isOwner:e.creatorId===n.uid,userObj:n},e.id)})),Object(je.jsxs)(he,{children:[Object(je.jsx)(xe,{id:"prev",onClick:N,children:"\u25c0"}),Object(je.jsx)(xe,{id:"next",onClick:N,children:"\u25b6"})]})]})},Re=n(39),Le=n(33),Pe=G.b.div(k||(k=Object(X.a)(["\n  width: 300px;\n  display: flex;\n  flex-direction: column;\n"]))),Ae=G.b.h4(N||(N=Object(X.a)([""]))),Ie=function(){var e=Object(re.a)(),t=e.register,n=e.handleSubmit,r=e.getValues,c=Object(z.useState)(!1),a=Object(T.a)(c,2),i=a[0],s=a[1],o=Object(z.useState)(""),b=Object(T.a)(o,2),u=b[0],d=b[1],l=function(){var e=Object(D.a)(B.a.mark((function e(){var t,n,c,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r(),n=t.email,c=t.password,e.prev=1,!i){e.next=10;break}return e.next=5,Object(Y.c)(W,n,c);case 5:return a=e.sent,e.next=8,Object(te.a)(Object(te.b)(J,"user"),{uid:a.user.uid,photoURL:a.user.photoURL?a.user.photoURL:"https://img1.daumcdn.net/thumb/R1280x0.fjpg/?fname=http://t1.daumcdn.net/brunch/service/user/7r5X/image/9djEiPBPMLu_IvCYyvRPwmZkM1g.jpg",displayName:a.user.displayName?a.user.displayName:a.user.email.split("@")[0],nweets:[]});case 8:e.next=12;break;case 10:return e.next=12,Object(Y.g)(W,n,c);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),d(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}();return Object(je.jsxs)(Pe,{children:[Object(je.jsxs)(ge,{onSubmit:n(l),children:[Object(je.jsx)(we,Object(ee.a)(Object(ee.a)({},t("email")),{},{type:"email",placeholder:"Email",required:!0})),Object(je.jsx)(we,Object(ee.a)(Object(ee.a)({},t("password")),{},{type:"password",placeholder:"Password",required:!0})),Object(je.jsx)(ve,{className:"submit",type:"submit",value:i?"Create Account":"Log In",required:!0})]}),Object(je.jsx)(ye,{onClick:function(){return s((function(e){return!e}))},children:i?"LogIn":"CreateAccount"}),Object(je.jsx)(Ae,{children:u})]})},ze=G.b.div(U||(U=Object(X.a)(["\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n  flex-direction: column;\n  background-color: ",";\n  opacity: 0.9;\n  height: 550px;\n  border-radius: 25px;\n"])),"#F8F8F8"),Ee=G.b.button(C||(C=Object(X.a)(["\n  position: relative;\n  background-color: #ffffff;\n  border-radius: 15px;\n  padding: 15px;\n  margin: 10px;\n  height: 50px;\n  font-size: 13px;\n  font-weight: bold;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: all 0.2s;\n  cursor: pointer;\n"]))),Fe=G.b.div(S||(S=Object(X.a)(["\n  display: flex;\n  .github:hover {\n    background-color: #333333;\n    color: #ffffff;\n  }\n  .google:hover {\n    background-color: #de463b;\n    color: #ffffff;\n  }\n"]))),Me=function(e){var t=function(){var e=Object(D.a)(B.a.mark((function e(t){var n,r,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.className,console.log(n),"google"===n?(r=new Y.b,console.log("try google")):"github"===n&&(r=new Y.a,console.log("try github")),e.prev=3,e.next=6,Object(Y.h)(W,r);case 6:return c=e.sent,e.next=9,Object(Y.d)(c).isNewUser;case 9:if(!e.sent){e.next=12;break}return e.next=12,Object(te.a)(Object(te.b)(J,"user"),{uid:c.user.uid,photoURL:c.user.photoURL?c.user.photoURL:"https://img1.daumcdn.net/thumb/R1280x0.fjpg/?fname=http://t1.daumcdn.net/brunch/service/user/7r5X/image/9djEiPBPMLu_IvCYyvRPwmZkM1g.jpg",displayName:c.user.displayName?c.user.displayName:c.user.email.split("@")[0],nweets:[]});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(je.jsxs)(ze,{children:[Object(je.jsx)(Le.a,{icon:Re.c,color:"#04AAFF",size:"3x"}),Object(je.jsx)(Ie,{}),Object(je.jsxs)(Fe,{children:[Object(je.jsxs)(Ee,{onClick:t,name:"google",className:"google",children:[Object(je.jsx)("span",{className:"google",children:"Continue With Google \xa0 \xa0 "}),Object(je.jsx)(Le.a,{className:"google",icon:Re.b,size:"2x"})]}),Object(je.jsxs)(Ee,{onClick:t,name:"github",className:"github",children:[Object(je.jsx)("span",{className:"github",children:"Continue With github \xa0 \xa0"}),Object(je.jsx)(Le.a,{className:"github",icon:Re.a,size:"2x"})]})]})]})},Be=n(15),De=n(81),Te=n(61),Xe=G.b.form(R||(R=Object(X.a)(['\n  position: relative;\n  width: min(91vw, 525px);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  label {\n    position: absolute;\n    right: min(22vw, 122px);\n    top: 22%;\n    color: #a6a3a1;\n  }\n  input[type="text"] {\n    box-sizing: border-box;\n    word-break: break-all;\n    word-wrap: break-word;\n    text-overflow: clip;\n    width: min(70vw, 440px);\n    height: min(10vw, 50px);\n    :focus {\n      height: min(15vw, 75px);\n    }\n    transition: all 0.5s;\n  }\n  input[type="file"] {\n    display: flex;\n    width: 0px;\n  }\n  .custom-file-upload {\n    display: inline-block;\n    padding: 6px 12px;\n    cursor: pointer;\n  }\n  input[type="submit"] {\n    padding: 0;\n    font-size: min(3vw, 15px);\n    width: min(15vw, 75px);\n    height: min(10vw, 50px);\n  }\n']))),Ye=G.b.div(L||(L=Object(X.a)(["\n  img {\n    max-height: 500px;\n  }\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  align-items: flex-end;\n  background-color: white;\n  padding: 15px 15px;\n  button {\n  }\n"]))),Ze=function(e){var t=e.userObj,n=Object(z.useState)(""),r=Object(T.a)(n,2),c=r[0],a=r[1],i=Object(re.a)(),s=i.register,o=i.handleSubmit,b=i.getValues,u=i.setValue,d=function(){var e=Object(D.a)(B.a.mark((function e(){var n,r,c,i,s,o,d,l;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=b(),r=n.nweet,c=n.photo,console.log(r),console.log(c),!(c.length<1)||r){e.next=6;break}return alert("Input Nweet or Photo please"),e.abrupt("return");case 6:if(i=null,!c[0]){e.next=14;break}return s=Object(ne.d)(K,"".concat(t.uid,"/").concat(Object(De.a)())),e.next=11,Object(ne.e)(s,c[0]);case 11:return e.next=13,Object(ne.b)(s);case 13:i=e.sent;case 14:return o={text:r,createdAt:Date.now(),attachmentUrl:i,creatorId:t.uid,creatorName:t.displayName,photoURL:t.photoURL?t.photoURL:"https://img1.daumcdn.net/thumb/R1280x0.fjpg/?fname=http://t1.daumcdn.net/brunch/service/user/7r5X/image/9djEiPBPMLu_IvCYyvRPwmZkM1g.jpg"},e.next=17,Object(te.j)(Object(te.b)(J,"user"),Object(te.m)("uid","==",t.uid));case 17:return d=e.sent,e.next=20,Object(te.e)(d);case 20:return l=e.sent,e.next=23,Object(te.a)(Object(te.b)(J,"nweets"),o);case 23:return e.next=25,Object(te.l)(Object(te.d)(J,"user/".concat(l.docs[0].id)),{nweets:[{text:o.text,createdAt:o.createdAt,attachmentUrl:o.attachmentUrl}].concat(Object(Be.a)(l.docs[0].data().nweets))});case 25:a(null),u("nweet",""),u("photo","");case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){return a(null)};return Object(je.jsxs)(je.Fragment,{children:[Object(je.jsxs)(Xe,{onSubmit:o(d),children:[Object(je.jsx)(we,Object(ee.a)(Object(ee.a)({},s("nweet")),{},{type:"text",placeholder:"What's on your mind?",maxLength:80})),Object(je.jsxs)("label",{htmlFor:"file-upload",className:"custom-file-upload",children:[Object(je.jsx)(Le.a,{icon:Te.a,size:"lg"}),Object(je.jsx)("input",Object(ee.a)(Object(ee.a)({id:"file-upload"},s("photo")),{},{onChange:function(e){var t=e.target.files[0];if(t.size>2097152)return alert("\ucca8\ubd80\ud30c\uc77c \uc0ac\uc774\uc988\ub294 3MB \uc774\ub0b4\ub85c \ub4f1\ub85d \uac00\ub2a5\ud569\ub2c8\ub2e4."),void l();var n=new FileReader;n.onloadend=function(e){var t=e.currentTarget.result;a(t)},n.readAsDataURL(t)},type:"file",accept:"image/*"}))]}),Object(je.jsx)(ve,{type:"submit",value:"Nweet"})]}),c&&Object(je.jsxs)(Ye,{children:[Object(je.jsx)(ae,{onClick:l,children:"Clear"}),Object(je.jsx)("img",{src:c,width:"100%"})]})]})},Ve=function(e){var t=e.userObj,n=e.page,r=e.setPage,c=Object(z.useState)(),a=Object(T.a)(c,2),i=a[0],s=a[1],o=Object(z.useState)([]),b=Object(T.a)(o,2),u=b[0],d=b[1],l=function(){var e=Object(D.a)(B.a.mark((function e(){var n,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.j)(Object(te.b)(J,"user"),Object(te.m)("uid","==",t.uid));case 2:return n=e.sent,e.next=5,Object(te.e)(n);case 5:r=e.sent,s(r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(z.useEffect)(Object(D.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(n),l();case 2:case"end":return e.stop()}}),e)}))),[n]);var j=function(){var e=Object(D.a)(B.a.mark((function e(t){var n,c,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(te.j)(Object(te.b)(J,"nweets"),Object(te.i)("createdAt","desc"),Object(te.g)(5));case 1:if(!(t>1)){e.next=10;break}return e.next=4,Object(te.e)(n);case 4:c=e.sent,a=c.docs[c.docs.length-1],n=Object(te.j)(Object(te.b)(J,"nweets"),Object(te.i)("createdAt","desc"),Object(te.k)(a),Object(te.g)(5)),t-=1,e.next=1;break;case 10:return e.next=12,Object(te.h)(n,(function(e){var t=e.docs.map((function(e){return Object(ee.a)({id:e.id},e.data())}));t.length<1&&r((function(e){return e-1})),d(t)}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(e){window.scrollTo(0,0);var t=e.target.id;r("prev"==t?function(e){return e<=1?1:e-1}:function(e){return u.length<5?e:e+1})};return Object(je.jsx)(je.Fragment,{children:Object(je.jsxs)(Oe,{children:[Object(je.jsx)(Ze,{userObj:t,userSnapShot:i}),u.map((function(e){return Object(je.jsx)(pe,{nweetObj:e,isOwner:e.creatorId===t.uid,userObj:t,userSnapShot:i},e.id)})),Object(je.jsxs)(he,{children:[Object(je.jsx)(xe,{id:"prev",onClick:p,children:"\u25c0"}),Object(je.jsx)(xe,{id:"next",onClick:p,children:"\u25b6"})]})]})})},_e=n(62),qe=(n(77),n(78),function(){var e=Object(z.useState)("https://raw.githubusercontent.com/roadmanfong/react-cropper/master/example/img/child.jpg"),t=Object(T.a)(e,2),n=t[0],r=t[1],c=Object(z.useState)("#"),a=Object(T.a)(c,2),i=a[0],s=a[1],o=Object(z.useState)(),b=Object(T.a)(o,2),u=b[0],d=b[1];return Object(je.jsxs)("div",{children:[Object(je.jsxs)("div",{style:{width:"100%"},children:[Object(je.jsx)("input",{type:"file",onChange:function(e){var t;e.preventDefault(),e.dataTransfer?t=e.dataTransfer.files:e.target&&(t=e.target.files);var n=new FileReader;n.onload=function(){r(n.result)},n.readAsDataURL(t[0])}}),Object(je.jsx)("button",{children:"Use default img"}),Object(je.jsx)("br",{}),Object(je.jsx)("br",{}),Object(je.jsx)(_e.a,{style:{height:400,width:"100%"},zoomTo:.5,initialAspectRatio:1,preview:".img-preview",src:n,viewMode:1,minCropBoxHeight:10,minCropBoxWidth:10,background:!1,responsive:!0,autoCropArea:1,checkOrientation:!1,onInitialized:function(e){d(e)},guides:!0})]}),Object(je.jsxs)("div",{children:[Object(je.jsxs)("div",{className:"box",style:{width:"50%",float:"right"},children:[Object(je.jsx)("h1",{children:"Preview"}),Object(je.jsx)("div",{className:"img-preview",style:{width:"100%",float:"left",height:"300px"}})]}),Object(je.jsxs)("div",{className:"box",style:{width:"50%",float:"right",height:"300px"},children:[Object(je.jsxs)("h1",{children:[Object(je.jsx)("span",{children:"Crop"}),Object(je.jsx)("button",{style:{float:"right"},onClick:function(){"undefined"!==typeof u&&s(u.getCroppedCanvas().toDataURL())},children:"Crop Image"})]}),Object(je.jsx)("img",{style:{width:"100%"},src:i,alt:"cropped"})]})]}),Object(je.jsx)("br",{style:{clear:"both"}})]})}),He=G.b.div(P||(P=Object(X.a)(["\n  padding: 0px 20px 10px 20px;\n  height: 70px;\n  border-radius: 25px;\n  /* background-color: cyan; */\n  position: absolute;\n  top: 0px;\n  display: flex;\n  justify-content: space-between;\n  width: 91vw;\n  max-width: 525px;\n  align-items: center;\n  img {\n    border-radius: 50%;\n    max-width: 48px;\n    max-height: 48px;\n  }\n\n  span {\n    display: none;\n  }\n  a {\n    color: white;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n  }\n  a:hover {\n    span {\n      display: inline-block;\n      z-index: 1;\n      font-weight: 600;\n      background-color: #9bd2c3;\n      padding: 5px;\n      top: 40px;\n      border-radius: 5px;\n      position: absolute;\n      white-space: nowrap;\n      overflow: hidden;\n      max-width: 100px;\n    }\n  }\n"]))),We=function(e){var t=e.userObj,n=e.setPage;return Object(je.jsxs)(He,{children:[Object(je.jsxs)(Q.b,{to:"/",onClick:function(){n(1)},children:[Object(je.jsx)("span",{children:"home"}),Object(je.jsx)(Le.a,{icon:Re.c,color:"#04AAFF",size:"2x"})]}),Object(je.jsxs)(Q.b,{to:"/profile",children:[Object(je.jsx)("span",{children:null===t||void 0===t?void 0:t.displayName}),Object(je.jsx)("img",{src:(null===t||void 0===t?void 0:t.photoUrl)?t.photoUrl:"https://img1.daumcdn.net/thumb/R1280x0.fjpg/?fname=http://t1.daumcdn.net/brunch/service/user/7r5X/image/9djEiPBPMLu_IvCYyvRPwmZkM1g.jpg"})]})]})},Je=G.b.div(A||(A=Object(X.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: aliceblue;\n  flex-direction: column;\n"]))),Ke=function(e){var t=e.refreshUser,n=e.isLoggedIn,r=e.userObj,c=Object(z.useState)(1),a=Object(T.a)(c,2),i=a[0],s=a[1];return Object(je.jsx)(Q.a,{children:Object(je.jsx)($.c,{children:n?Object(je.jsxs)(Je,{children:[n&&Object(je.jsx)(We,{userObj:r,setPage:s}),Object(je.jsxs)($.c,{children:[Object(je.jsx)($.a,{exact:!0,path:"/",children:Object(je.jsx)(Ve,{userObj:r,page:i,setPage:s})}),Object(je.jsx)($.a,{exact:!0,path:"/profile",children:Object(je.jsx)(Se,{userObj:r,refreshUser:t})}),Object(je.jsx)($.a,{exact:!0,path:"/demo",children:Object(je.jsx)(qe,{})}),Object(je.jsx)($.a,{exact:!0,path:"/:uid",children:Object(je.jsx)(me,{})})]})]}):Object(je.jsx)(Je,{children:Object(je.jsx)($.a,{exact:!0,path:"/",children:Object(je.jsx)(Me,{})})})})})},Ge=Object(G.a)(I||(I=Object(X.a)(['\n  font-family:"Spoqa Han Sans Neo", "Spoqa Han Sans JP", sans-serif;\n  html{\n    scroll-behavior: smooth;\n  }\n  body{\n    background-color: #F0F8FF;\n  }\n    a {\n      text-decoration: none;\n      color:inherit;\n    }\n'])));var Qe=function(){var e=Object(z.useState)(!1),t=Object(T.a)(e,2),n=t[0],r=t[1],c=Object(z.useState)(!1),a=Object(T.a)(c,2),i=a[0],s=a[1],o=Object(z.useState)(null),b=Object(T.a)(o,2),u=b[0],d=b[1];Object(z.useEffect)((function(){Object(Y.f)(W,(function(e){e?(d({uid:e.uid,photoUrl:e.photoURL?e.photoURL:"https://img1.daumcdn.net/thumb/R1280x0.fjpg/?fname=http://t1.daumcdn.net/brunch/service/user/7r5X/image/9djEiPBPMLu_IvCYyvRPwmZkM1g.jpg",displayName:e.displayName?e.displayName:e.email.split("@")[0]}),s(!0)):(d(null),s(!1)),r(!0)}))}),[]);var l=function(){var e=Object(D.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.currentUser;case 2:t=e.sent,d(t?{uid:t.uid,photoUrl:t.photoURL?t.photoURL:"https://img1.daumcdn.net/thumb/R1280x0.fjpg/?fname=http://t1.daumcdn.net/brunch/service/user/7r5X/image/9djEiPBPMLu_IvCYyvRPwmZkM1g.jpg",displayName:t.displayName?t.displayName:t.email.split("@")[0]}:null);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(je.jsxs)(je.Fragment,{children:[Object(je.jsx)(Ge,{}),n?Object(je.jsx)(Ke,{refreshUser:l,userObj:u,isLoggedIn:i}):Object(je.jsx)("span",{children:"Loading..."})]})};F.a.render(Object(je.jsx)(Qe,{}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.8a300bc7.chunk.js.map