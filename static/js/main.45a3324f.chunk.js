(this.webpackJsonpnwitter=this.webpackJsonpnwitter||[]).push([[0],{75:function(e,t,n){"use strict";n.r(t);var r,c,a,i,o,s,u,b,d,l,p,j,x,O,h,f,m,g,w,v,y,k,N,U,S,C,L,R,P,I,z,A=n(5),E=n(52),F=n.n(E),M=n(0),B=n.n(M),D=n(1),X=n(12),Y=n(14),Z=n(22),V=n(53),_=n(54),q=n(55),T=n(56),H=Object(V.a)({apiKey:"AIzaSyC6d2rzFtMpx6Y3k-usaOOK2onpxyN1mmU",authDomain:"ntwitter-8313d.firebaseapp.com",projectId:"ntwitter-8313d",storageBucket:"ntwitter-8313d.appspot.com",messagingSenderId:"135453840930",appId:"1:135453840930:web:735c0d5f669e53cd9a5c7b"}),J=Object(_.a)(),W=Object(q.a)(),K=Object(T.a)(H),G=n(13),Q=n(34),$=n(18),ee=n(19),te=n(9),ne=n(27),re=n(31),ce=G.b.div(r||(r=Object(Y.a)(["\n  display: flex;\n  background-color: white;\n  position: relative;\n  outline: none;\n  padding: 12px 5px;\n  margin: 12px 0px;\n  border-radius: 12px;\n  border: 2px solid white;\n  box-shadow: inset 0px 1px 1px rgba(0, 0, 0, 0.33);\n  transition: all 0.5s;\n  > div {\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n  }\n"]))),ae=G.b.button(c||(c=Object(Y.a)(['\n  appearance: button;\n  background-color: #1899d6;\n  border: solid transparent;\n  border-radius: min(16px, 3vw);\n  border-width: 0 0 min(4px, 0.8vw);\n  box-sizing: border-box;\n  color: #ffffff;\n  cursor: pointer;\n  display: inline-block;\n  font-family: din-round, sans-serif;\n  font-size: min(12px, 2vw);\n  font-weight: 700;\n  letter-spacing: 0.8px;\n  line-height: min(20px, 4vw);\n  margin: 0;\n  outline: none;\n  overflow: visible;\n  padding: 3px min(16px, 3vw);\n  text-align: center;\n  text-transform: uppercase;\n  touch-action: manipulation;\n  transform: translateZ(0);\n  transition: filter 0.2s;\n  user-select: none;\n  -webkit-user-select: none;\n  vertical-align: middle;\n  white-space: nowrap;\n  /* width: 100%; */\n  :after {\n    background-clip: padding-box;\n    background-color: #1cb0f6;\n    border: solid transparent;\n    border-radius: 16px;\n    border-width: 0 0 4px;\n    bottom: -4px;\n    content: "";\n    left: 0;\n    position: absolute;\n    right: 0;\n    top: 0;\n    z-index: -1;\n  }\n  :main,\n  :focus {\n    user-select: auto;\n  }\n  :hover:not(:disabled) {\n    filter: brightness(1.1);\n  }\n  :disabled {\n    cursor: auto;\n  }\n']))),ie=G.b.img(a||(a=Object(Y.a)(["\n  width: 50px;\n  border-radius: 50%;\n"]))),oe=Object(G.b)(ae)(i||(i=Object(Y.a)([""]))),se=Object(G.b)(ae)(o||(o=Object(Y.a)(["\n  display: ",";\n"])),(function(e){return e.showEdit?"block":"none"})),ue=G.b.div(s||(s=Object(Y.a)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  /* transform: translateX(370px); */\n"]))),be=G.b.div(u||(u=Object(Y.a)(['\n  display: flex;\n  flex-direction: column;\n  img {\n    margin-top: 15px;\n    width: 100%;\n    border-radius: 15px;\n    max-height: 500px;\n  }\n  input[type="text"] {\n    font-size: 16px;\n    margin-left: 12px;\n  }\n']))),de=G.b.span(b||(b=Object(Y.a)(["\n  display: inline-block;\n  font-weight: 600;\n  margin-left: 12px;\n  max-width: 100px;\n  white-space: nowrap;\n  overflow: hidden;\n"]))),le=G.b.span(d||(d=Object(Y.a)(["\n  margin-left: 12px;\n"]))),pe=n(7),je=function(e){var t=e.nweetObj,n=e.isOwner,r=e.userObj,c=Object(re.a)(),a=c.register,i=c.getValues,o=c.handleSubmit,s=Object(A.useState)(""),u=Object(X.a)(s,2),b=u[0],d=u[1],l=Object(A.useState)(!1),p=Object(X.a)(l,2),j=p[0],x=p[1],O=Object(A.useState)(""),h=Object(X.a)(O,2),f=h[0],m=h[1],g=Object(A.useState)(!1),w=Object(X.a)(g,2),v=w[0],y=w[1];Object(A.useEffect)((function(){U()}),[]);var k=function(){var e=Object(D.a)(B.a.mark((function e(){var n,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this nweet?")){e.next=16;break}if(e.t0=t.attachmentUrl,!e.t0){e.next=6;break}return e.next=6,Object(ne.a)(Object(ne.d)(K,t.attachmentUrl));case 6:return e.next=8,Object(te.c)(Object(te.d)(W,"nweets/".concat(t.id)));case 8:return e.next=10,Object(te.j)(Object(te.b)(W,"user"),Object(te.m)("uid","==",r.uid));case 10:return n=e.sent,e.next=13,Object(te.e)(n);case 13:return c=e.sent,e.next=16,Object(te.l)(Object(te.d)(W,"user/".concat(c.docs[0].id)),{nweets:c.docs[0].data().nweets.filter((function(e){return e.createdAt!==t.createdAt}))});case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(D.a)(B.a.mark((function e(){var n,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(te.l)(Object(te.d)(W,"nweets/".concat(t.id)),{text:i("newNweet")}),e.next=3,Object(te.j)(Object(te.b)(W,"user"),Object(te.m)("uid","==",r.uid));case 3:return n=e.sent,e.next=6,Object(te.e)(n);case 6:return c=e.sent,e.next=9,Object(te.l)(Object(te.d)(W,"user/".concat(c.docs[0].id)),{nweets:c.docs[0].data().nweets.map((function(e){return e.createdAt===t.createdAt&&(e.text=i("newNweet")),e}))});case 9:y(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(D.a)(B.a.mark((function e(){var n,r,c,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.j)(Object(te.b)(W,"user"),Object(te.m)("uid","==",t.creatorId));case 2:return n=e.sent,e.next=5,Object(te.e)(n);case 5:r=e.sent,c=r.docs[0].data().photoURL,a=r.docs[0].data().displayName,m(a),d(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(pe.jsx)("div",{children:Object(pe.jsxs)(ce,{children:[Object(pe.jsx)(Q.b,{to:n?"/profile":t.creatorId,children:Object(pe.jsx)(ie,{src:b})}),Object(pe.jsxs)("div",{children:[Object(pe.jsxs)(be,{children:[Object(pe.jsx)(de,{children:f}),v?Object(pe.jsx)("form",{onSubmit:o(N),children:Object(pe.jsx)("input",Object(ee.a)(Object(ee.a)({id:"editNweet"},a("newNweet",{value:t.text})),{},{type:"text",placeholder:"Edit your nweet"}))}):Object(pe.jsx)(le,{children:t.text}),t.attachmentUrl&&Object(pe.jsx)("img",{src:t.attachmentUrl})]}),n&&Object(pe.jsxs)(ue,{showEdit:j,children:[Object(pe.jsx)(oe,{onClick:function(){x((function(e){return e&&y(!1),!e}))},showEdit:j,children:j?"Calcel":"Edit"}),Object(pe.jsx)(se,{showEdit:j,onClick:k,children:"Delete Nweet"}),Object(pe.jsx)(se,{showEdit:j,onClick:function(){y((function(e){return!e}))},children:"Edit Nweet"}),Object(pe.jsx)(se,{showEdit:j,onClick:o(N),children:"Update Nweet"})]})]})]})})},xe=G.b.button(l||(l=Object(Y.a)(["\n  outline: none;\n  height: 30px;\n  text-align: center;\n  width: min(30vw, 180px);\n  border-radius: 12px;\n  border: 1px solid #04aaff;\n  box-shadow: inset 0px 1px 1px rgba(0, 0, 0, 0.33);\n  background-color: white;\n  cursor: pointer;\n  color: #1cb2ff;\n  font-size: 15px;\n  font-weight: 600;\n  transition: color 0.2s;\n  :hover {\n    background-color: #1cb2ff;\n    color: white;\n  }\n"]))),Oe=G.b.div(p||(p=Object(Y.a)(["\n  position: relative;\n  margin-top: 80px;\n  width: min(90vw, 520px);\n  padding: 22px 22px;\n  border-radius: 15px;\n  background-color: #a5c3dd;\n"]))),he=G.b.div(j||(j=Object(Y.a)(["\n  margin-bottom: 5px;\n  bottom: -10px;\n  display: flex;\n  gap: 30px;\n  justify-content: center;\n"]))),fe=G.b.div(x||(x=Object(Y.a)(["\n  display: flex;\n  gap: 15px;\n  img {\n    border-radius: 25px;\n  }\n  span {\n    font-size: 25px;\n    font-weight: 600;\n  }\n"]))),me=function(){var e,t=Object(A.useState)([]),n=Object(X.a)(t,2),r=n[0],c=n[1],a=Object(A.useState)(1),i=Object(X.a)(a,2),o=i[0],s=i[1],u=Object(A.useState)(""),b=Object(X.a)(u,2),d=b[0],l=b[1],p=Object(A.useState)(""),j=Object(X.a)(p,2),x=j[0],O=j[1],h=Object($.g)().uid,f=function(){var e=Object(D.a)(B.a.mark((function e(){var t,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.j)(Object(te.b)(W,"user"),Object(te.m)("uid","==",h));case 2:return t=e.sent,e.next=5,Object(te.e)(t);case 5:n=e.sent,l(n.docs[0].data().photoURL),O(n.docs[0].data().displayName);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(e){window.scrollTo(0,0);var t=e.target.id;s("prev"==t?function(e){return e<=1?1:e-1}:function(e){return r.length<5?e:e+1})},g=function(){var t=Object(D.a)(B.a.mark((function t(n){var r,a,i;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(te.j)(Object(te.b)(W,"nweets"),Object(te.i)("createdAt","desc"),Object(te.m)("creatorId","==",h),Object(te.g)(5));case 2:r=t.sent;case 3:if(!(n>1)){t.next=12;break}return t.next=6,Object(te.e)(r);case 6:a=t.sent,i=a.docs[a.docs.length-1],r=Object(te.j)(Object(te.b)(W,"nweets"),Object(te.i)("createdAt","desc"),Object(te.m)("creatorId","==",h),Object(te.k)(i),Object(te.g)(5)),n-=1,t.next=3;break;case 12:return t.next=14,Object(te.h)(r,(function(t){(e=t.docs.map((function(e){return Object(ee.a)({id:e.id},e.data())}))).length<1&&s((function(e){return e-1})),c(e)}));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(A.useEffect)((function(){g(o),f()}),[o]),Object(pe.jsxs)(Oe,{children:[Object(pe.jsxs)(fe,{children:[Object(pe.jsx)("img",{src:d,width:"150px"}),Object(pe.jsxs)("span",{children:[x,"'s Profile"]})]}),r.map((function(e){return Object(pe.jsx)(je,{nweetObj:e,isOwner:!1},e.id)})),Object(pe.jsx)(xe,{id:"prev",onClick:m,children:"\u25c0"}),Object(pe.jsx)(xe,{id:"next",onClick:m,children:"\u25b6"})]})},ge=G.b.form(O||(O=Object(Y.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),we=G.b.input(h||(h=Object(Y.a)(["\n  outline: none;\n  padding: 12px 5px;\n  margin: 12px 0px;\n  border-radius: 12px;\n  border: 2px solid white;\n  box-shadow: inset 0px 1px 1px rgba(0, 0, 0, 0.33);\n"]))),ve=Object(G.b)(we)(f||(f=Object(Y.a)(["\n  background-color: white;\n  cursor: pointer;\n  color: #1cb2ff;\n  font-size: 15px;\n  font-weight: 600;\n  transition: all 0.2s;\n  :hover {\n    background-color: #1cb2ff;\n    color: white;\n  }\n"]))),ye=G.b.button(m||(m=Object(Y.a)(['\n  background-color: #222;\n  border-radius: 4px;\n  border-style: none;\n  box-sizing: border-box;\n  color: #fff;\n  cursor: pointer;\n  display: inline-block;\n  font-family: "Farfetch Basis", "Helvetica Neue", Arial, sans-serif;\n  font-size: 16px;\n  font-weight: 700;\n  line-height: 1.5;\n  margin: 0;\n  max-width: none;\n  min-height: 44px;\n  min-width: 10px;\n  outline: none;\n  overflow: hidden;\n  padding: 9px 20px 8px;\n  position: relative;\n  text-align: center;\n  text-transform: none;\n  user-select: none;\n  -webkit-user-select: none;\n  touch-action: manipulation;\n  width: 100%;\n  :hover {\n    opacity: 0.75;\n  }\n']))),ke=G.b.div(g||(g=Object(Y.a)(['\n  input[type="file"] {\n    width: 0px;\n  }\n  display: flex;\n  flex-direction: column;\n  input[type="text"] {\n    outline: none;\n    border: none;\n    border-radius: 15px;\n    margin-right: 15px;\n    padding: 5px 15px;\n    height: 50px;\n    width: 100%;\n    font-size: 17px;\n    font-weight: 600;\n  }\n  form {\n    margin-top: 15px;\n    display: flex;\n    justify-content: space-between;\n  }\n']))),Ne=Object(G.b)(ae)(w||(w=Object(Y.a)([""]))),Ue=Object(G.b)(ye)(v||(v=Object(Y.a)(["\n  cursor: pointer;\n  position: absolute;\n  right: 15px;\n  width: 100px;\n  font-size: 15px;\n  cursor: pointer;\n  position: absolute;\n  right: 15px;\n"]))),Se=G.b.label(y||(y=Object(Y.a)(["\n  margin-top: 25px;\n  display: block;\n  position: relative;\n  background-image: ",";\n  background-size: 100px 100px;\n  width: 100px;\n  height: 100px;\n  border-radius: 50%;\n  cursor: pointer;\n  button {\n    position: absolute;\n    top: -30px;\n    left: -15px;\n    white-space: nowrap;\n  }\n"])),(function(e){return"url(".concat(e.img,")")})),Ce=function(e){var t=e.refreshUser,n=e.userObj,r=Object(re.a)(),c=r.register,a=r.handleSubmit,i=r.setValue,o=r.getValues;i("newDisplayName",n.displayName);var s=Object(A.useState)(1),u=Object(X.a)(s,2),b=u[0],d=u[1];console.log(n,b);var l,p=Object(A.useState)(n.photoUrl),j=Object(X.a)(p,2),x=j[0],O=j[1],h=Object(A.useState)([]),f=Object(X.a)(h,2),m=f[0],g=f[1],w=Object($.f)(),v=function(){var e=Object(D.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Z.i)(J);case 2:w.push("/"),window.location.reload();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(D.a)(B.a.mark((function e(t){var r,c,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t<1)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(te.j)(Object(te.b)(W,"nweets"),Object(te.i)("createdAt","desc"),Object(te.m)("creatorId","==",n.uid),Object(te.g)(5));case 4:r=e.sent;case 5:if(!(t>1)){e.next=14;break}return e.next=8,Object(te.e)(r);case 8:c=e.sent,a=c.docs[c.docs.length-1],r=Object(te.j)(Object(te.b)(W,"nweets"),Object(te.i)("createdAt","desc"),Object(te.m)("creatorId","==",n.uid),Object(te.k)(a),Object(te.g)(5)),t-=1,e.next=5;break;case 14:return e.next=16,Object(te.h)(r,(function(e){(l=e.docs.map((function(e){return Object(ee.a)({id:e.id},e.data())}))).length<1&&d((function(e){return e-1})),g(l)}));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(D.a)(B.a.mark((function e(){var r,c,a,i,s,u,b;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o(),c=r.newDisplayName,a=r.profilePhoto,i=n.photoUrl,!a[0]){e.next=9;break}return s=Object(ne.d)(K,"".concat(n.uid,"/profile")),e.next=6,Object(ne.e)(s,a[0]);case 6:return e.next=8,Object(ne.b)(s);case 8:i=e.sent;case 9:if(n.displayName===c&&n.photoUrl===i){e.next=26;break}return e.t0=Z.j,e.next=13,J.currentUser;case 13:return e.t1=e.sent,e.t2={displayName:c,photoURL:i},e.next=17,(0,e.t0)(e.t1,e.t2);case 17:return e.next=19,Object(te.j)(Object(te.b)(W,"user"),Object(te.m)("uid","==",n.uid));case 19:return u=e.sent,e.next=22,Object(te.e)(u);case 22:return b=e.sent,e.next=25,Object(te.l)(Object(te.d)(W,"user/".concat(b.docs[0].id)),{displayName:c,photoURL:i});case 25:t();case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(e){window.scrollTo(0,0),console.log(m.length);var t=e.target.id;d("prev"==t?function(e){return e<=1?1:e-1}:function(e){return m.length<5?e:e+1})};return Object(A.useEffect)((function(){y(b)}),[b]),Object(pe.jsxs)(Oe,{children:[Object(pe.jsxs)(ke,{children:[Object(pe.jsx)(Se,{htmlFor:"profilePhoto",img:x,children:Object(pe.jsx)(ae,{children:"Change Photo"})}),Object(pe.jsxs)("form",{onSubmit:a(k),children:[Object(pe.jsx)("input",Object(ee.a)(Object(ee.a)({},c("newDisplayName")),{},{maxLength:"6",type:"text",placeholder:"Display name"})),Object(pe.jsx)("input",Object(ee.a)(Object(ee.a)({},c("profilePhoto")),{},{onChange:function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=function(e){var t=e.currentTarget.result;O(t)},n.readAsDataURL(t)},id:"profilePhoto",type:"file",accept:"image/*"})),Object(pe.jsx)(Ne,{onClick:a(k),children:"Update"})]}),Object(pe.jsx)(Ue,{onClick:v,children:"Log Out"})]}),m.map((function(e){return Object(pe.jsx)(je,{nweetObj:e,isOwner:e.creatorId===n.uid,userObj:n},e.id)})),Object(pe.jsxs)(he,{children:[Object(pe.jsx)(xe,{id:"prev",onClick:N,children:"\u25c0"}),Object(pe.jsx)(xe,{id:"next",onClick:N,children:"\u25b6"})]})]})},Le=n(39),Re=n(33),Pe=G.b.div(k||(k=Object(Y.a)(["\n  width: 300px;\n  display: flex;\n  flex-direction: column;\n"]))),Ie=G.b.h4(N||(N=Object(Y.a)([""]))),ze=function(){var e=Object(re.a)(),t=e.register,n=e.handleSubmit,r=e.getValues,c=Object(A.useState)(!1),a=Object(X.a)(c,2),i=a[0],o=a[1],s=Object(A.useState)(""),u=Object(X.a)(s,2),b=u[0],d=u[1],l=function(){var e=Object(D.a)(B.a.mark((function e(){var t,n,c,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r(),n=t.email,c=t.password,e.prev=1,!i){e.next=10;break}return e.next=5,Object(Z.c)(J,n,c);case 5:return a=e.sent,e.next=8,Object(te.a)(Object(te.b)(W,"user"),{uid:a.user.uid,photoURL:a.user.photoURL?a.user.photoURL:"https://img1.daumcdn.net/thumb/R1280x0.fjpg/?fname=http://t1.daumcdn.net/brunch/service/user/7r5X/image/9djEiPBPMLu_IvCYyvRPwmZkM1g.jpg",displayName:a.user.displayName?a.user.displayName:a.user.email.split("@")[0],nweets:[]});case 8:e.next=12;break;case 10:return e.next=12,Object(Z.g)(J,n,c);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),d(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}}();return Object(pe.jsxs)(Pe,{children:[Object(pe.jsxs)(ge,{onSubmit:n(l),children:[Object(pe.jsx)(we,Object(ee.a)(Object(ee.a)({},t("email")),{},{type:"email",placeholder:"Email",required:!0})),Object(pe.jsx)(we,Object(ee.a)(Object(ee.a)({},t("password")),{},{type:"password",placeholder:"Password",required:!0})),Object(pe.jsx)(ve,{className:"submit",type:"submit",value:i?"Create Account":"Log In",required:!0})]}),Object(pe.jsx)(ye,{onClick:function(){return o((function(e){return!e}))},children:i?"LogIn":"CreateAccount"}),Object(pe.jsx)(Ie,{children:b})]})},Ae=G.b.div(U||(U=Object(Y.a)(["\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n  flex-direction: column;\n  background-color: ",";\n  opacity: 0.9;\n  height: 550px;\n  border-radius: 25px;\n"])),"#F8F8F8"),Ee=G.b.button(S||(S=Object(Y.a)(["\n  position: relative;\n  background-color: #ffffff;\n  border-radius: 15px;\n  padding: 15px;\n  margin: 10px;\n  height: 50px;\n  font-size: 13px;\n  font-weight: bold;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: all 0.2s;\n  cursor: pointer;\n"]))),Fe=G.b.div(C||(C=Object(Y.a)(["\n  display: flex;\n  .github:hover {\n    background-color: #333333;\n    color: #ffffff;\n  }\n  .google:hover {\n    background-color: #de463b;\n    color: #ffffff;\n  }\n"]))),Me=function(e){var t=function(){var e=Object(D.a)(B.a.mark((function e(t){var n,r,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.className,console.log(n),"google"===n?(r=new Z.b,console.log("try google")):"github"===n&&(r=new Z.a,console.log("try github")),e.prev=3,e.next=6,Object(Z.h)(J,r);case 6:return c=e.sent,e.next=9,Object(Z.d)(c).isNewUser;case 9:if(!e.sent){e.next=12;break}return e.next=12,Object(te.a)(Object(te.b)(W,"user"),{uid:c.user.uid,photoURL:c.user.photoURL?c.user.photoURL:"https://img1.daumcdn.net/thumb/R1280x0.fjpg/?fname=http://t1.daumcdn.net/brunch/service/user/7r5X/image/9djEiPBPMLu_IvCYyvRPwmZkM1g.jpg",displayName:c.user.displayName?c.user.displayName:c.user.email.split("@")[0],nweets:[]});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(pe.jsxs)(Ae,{children:[Object(pe.jsx)(Re.a,{icon:Le.c,color:"#04AAFF",size:"3x"}),Object(pe.jsx)(ze,{}),Object(pe.jsxs)(Fe,{children:[Object(pe.jsxs)(Ee,{onClick:t,name:"google",className:"google",children:[Object(pe.jsx)("span",{className:"google",children:"Continue With Google \xa0 \xa0 "}),Object(pe.jsx)(Re.a,{className:"google",icon:Le.b,size:"2x"})]}),Object(pe.jsxs)(Ee,{onClick:t,name:"github",className:"github",children:[Object(pe.jsx)("span",{className:"github",children:"Continue With github \xa0 \xa0"}),Object(pe.jsx)(Re.a,{className:"github",icon:Le.a,size:"2x"})]})]})]})},Be=n(15),De=n(77),Xe=n(61),Ye=G.b.form(L||(L=Object(Y.a)(['\n  position: relative;\n  width: min(91vw, 525px);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  label {\n    position: absolute;\n    right: min(22vw, 122px);\n    top: 22%;\n    color: #a6a3a1;\n  }\n  input[type="text"] {\n    box-sizing: border-box;\n    word-break: break-all;\n    word-wrap: break-word;\n    text-overflow: clip;\n    width: min(70vw, 440px);\n    height: min(10vw, 50px);\n    :focus {\n      height: min(15vw, 75px);\n    }\n    transition: all 0.5s;\n  }\n  input[type="file"] {\n    display: flex;\n    width: 0px;\n  }\n  .custom-file-upload {\n    display: inline-block;\n    padding: 6px 12px;\n    cursor: pointer;\n  }\n  input[type="submit"] {\n    padding: 0;\n    font-size: min(3vw, 15px);\n    width: min(15vw, 75px);\n    height: min(10vw, 50px);\n  }\n']))),Ze=G.b.div(R||(R=Object(Y.a)(["\n  img {\n    max-height: 500px;\n  }\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  align-items: flex-end;\n  background-color: white;\n  padding: 15px 15px;\n  button {\n  }\n"]))),Ve=function(e){var t=e.userObj,n=Object(A.useState)(""),r=Object(X.a)(n,2),c=r[0],a=r[1],i=Object(re.a)(),o=i.register,s=i.handleSubmit,u=i.getValues,b=i.setValue,d=function(){var e=Object(D.a)(B.a.mark((function e(){var n,r,c,i,o,s,d,l;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u(),r=n.nweet,c=n.photo,console.log(r),console.log(c),!(c.length<1)||r){e.next=6;break}return alert("Input Nweet or Photo please"),e.abrupt("return");case 6:if(i=null,!c[0]){e.next=14;break}return o=Object(ne.d)(K,"".concat(t.uid,"/").concat(Object(De.a)())),e.next=11,Object(ne.e)(o,c[0]);case 11:return e.next=13,Object(ne.b)(o);case 13:i=e.sent;case 14:return s={text:r,createdAt:Date.now(),attachmentUrl:i,creatorId:t.uid,creatorName:t.displayName,photoURL:t.photoURL?t.photoURL:"https://img1.daumcdn.net/thumb/R1280x0.fjpg/?fname=http://t1.daumcdn.net/brunch/service/user/7r5X/image/9djEiPBPMLu_IvCYyvRPwmZkM1g.jpg"},e.next=17,Object(te.j)(Object(te.b)(W,"user"),Object(te.m)("uid","==",t.uid));case 17:return d=e.sent,e.next=20,Object(te.e)(d);case 20:return l=e.sent,e.next=23,Object(te.a)(Object(te.b)(W,"nweets"),s);case 23:return e.next=25,Object(te.l)(Object(te.d)(W,"user/".concat(l.docs[0].id)),{nweets:[{text:s.text,createdAt:s.createdAt,attachmentUrl:s.attachmentUrl}].concat(Object(Be.a)(l.docs[0].data().nweets))});case 25:a(null),b("nweet",""),b("photo","");case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){return a(null)};return Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsxs)(Ye,{onSubmit:s(d),children:[Object(pe.jsx)(we,Object(ee.a)(Object(ee.a)({},o("nweet")),{},{type:"text",placeholder:"What's on your mind?",maxLength:80})),Object(pe.jsxs)("label",{htmlFor:"file-upload",className:"custom-file-upload",children:[Object(pe.jsx)(Re.a,{icon:Xe.a,size:"lg"}),Object(pe.jsx)("input",Object(ee.a)(Object(ee.a)({id:"file-upload"},o("photo")),{},{onChange:function(e){var t=e.target.files[0];if(t.size>2097152)return alert("\ucca8\ubd80\ud30c\uc77c \uc0ac\uc774\uc988\ub294 3MB \uc774\ub0b4\ub85c \ub4f1\ub85d \uac00\ub2a5\ud569\ub2c8\ub2e4."),void l();var n=new FileReader;n.onloadend=function(e){var t=e.currentTarget.result;a(t)},n.readAsDataURL(t)},type:"file",accept:"image/*"}))]}),Object(pe.jsx)(ve,{type:"submit",value:"Nweet"})]}),c&&Object(pe.jsxs)(Ze,{children:[Object(pe.jsx)(ae,{onClick:l,children:"Clear"}),Object(pe.jsx)("img",{src:c,width:"100%"})]})]})},_e=function(e){var t=e.userObj,n=e.page,r=e.setPage,c=Object(A.useState)(),a=Object(X.a)(c,2),i=a[0],o=a[1],s=Object(A.useState)([]),u=Object(X.a)(s,2),b=u[0],d=u[1],l=function(){var e=Object(D.a)(B.a.mark((function e(){var n,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.j)(Object(te.b)(W,"user"),Object(te.m)("uid","==",t.uid));case 2:return n=e.sent,e.next=5,Object(te.e)(n);case 5:r=e.sent,o(r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(A.useEffect)(Object(D.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(n),l();case 2:case"end":return e.stop()}}),e)}))),[n]);var p=function(){var e=Object(D.a)(B.a.mark((function e(t){var n,c,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(te.j)(Object(te.b)(W,"nweets"),Object(te.i)("createdAt","desc"),Object(te.g)(5));case 1:if(!(t>1)){e.next=10;break}return e.next=4,Object(te.e)(n);case 4:c=e.sent,a=c.docs[c.docs.length-1],n=Object(te.j)(Object(te.b)(W,"nweets"),Object(te.i)("createdAt","desc"),Object(te.k)(a),Object(te.g)(5)),t-=1,e.next=1;break;case 10:return e.next=12,Object(te.h)(n,(function(e){var t=e.docs.map((function(e){return Object(ee.a)({id:e.id},e.data())}));t.length<1&&r((function(e){return e-1})),d(t)}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(e){window.scrollTo(0,0);var t=e.target.id;r("prev"==t?function(e){return e<=1?1:e-1}:function(e){return b.length<5?e:e+1})};return Object(pe.jsx)(pe.Fragment,{children:Object(pe.jsxs)(Oe,{children:[Object(pe.jsx)(Ve,{userObj:t,userSnapShot:i}),b.map((function(e){return Object(pe.jsx)(je,{nweetObj:e,isOwner:e.creatorId===t.uid,userObj:t,userSnapShot:i},e.id)})),Object(pe.jsxs)(he,{children:[Object(pe.jsx)(xe,{id:"prev",onClick:j,children:"\u25c0"}),Object(pe.jsx)(xe,{id:"next",onClick:j,children:"\u25b6"})]})]})})},qe=G.b.div(P||(P=Object(Y.a)(["\n  padding: 0px 20px 10px 20px;\n  height: 70px;\n  border-radius: 25px;\n  /* background-color: cyan; */\n  position: absolute;\n  top: 0px;\n  display: flex;\n  justify-content: space-between;\n  width: 91vw;\n  max-width: 525px;\n  align-items: center;\n  img {\n    border-radius: 50%;\n    max-width: 48px;\n    max-height: 48px;\n  }\n\n  span {\n    display: none;\n  }\n  a {\n    color: white;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n  }\n  a:hover {\n    span {\n      display: inline-block;\n      z-index: 1;\n      font-weight: 600;\n      background-color: #9bd2c3;\n      padding: 5px;\n      top: 40px;\n      border-radius: 5px;\n      position: absolute;\n      white-space: nowrap;\n      overflow: hidden;\n      max-width: 100px;\n    }\n  }\n"]))),Te=function(e){var t=e.userObj,n=e.setPage;return Object(pe.jsxs)(qe,{children:[Object(pe.jsxs)(Q.b,{to:"/",onClick:function(){n(1)},children:[Object(pe.jsx)("span",{children:"home"}),Object(pe.jsx)(Re.a,{icon:Le.c,color:"#04AAFF",size:"2x"})]}),Object(pe.jsxs)(Q.b,{to:"/profile",children:[Object(pe.jsx)("span",{children:null===t||void 0===t?void 0:t.displayName}),Object(pe.jsx)("img",{src:(null===t||void 0===t?void 0:t.photoUrl)?t.photoUrl:"https://img1.daumcdn.net/thumb/R1280x0.fjpg/?fname=http://t1.daumcdn.net/brunch/service/user/7r5X/image/9djEiPBPMLu_IvCYyvRPwmZkM1g.jpg"})]})]})},He=G.b.div(I||(I=Object(Y.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: aliceblue;\n  flex-direction: column;\n"]))),Je=function(e){var t=e.refreshUser,n=e.isLoggedIn,r=e.userObj,c=Object(A.useState)(1),a=Object(X.a)(c,2),i=a[0],o=a[1];return Object(pe.jsx)(Q.a,{children:Object(pe.jsx)($.c,{children:n?Object(pe.jsxs)(He,{children:[n&&Object(pe.jsx)(Te,{userObj:r,setPage:o}),Object(pe.jsxs)($.c,{children:[Object(pe.jsx)($.a,{exact:!0,path:"/",children:Object(pe.jsx)(_e,{userObj:r,page:i,setPage:o})}),Object(pe.jsx)($.a,{exact:!0,path:"/profile",children:Object(pe.jsx)(Ce,{userObj:r,refreshUser:t})}),Object(pe.jsx)($.a,{exact:!0,path:"/:uid",children:Object(pe.jsx)(me,{})})]})]}):Object(pe.jsx)(He,{children:Object(pe.jsx)($.a,{exact:!0,path:"/",children:Object(pe.jsx)(Me,{})})})})})},We=Object(G.a)(z||(z=Object(Y.a)(['\n  font-family:"Spoqa Han Sans Neo", "Spoqa Han Sans JP", sans-serif;\n  html{\n    scroll-behavior: smooth;\n  }\n  body{\n    background-color: #F0F8FF;\n  }\n    a {\n      text-decoration: none;\n      color:inherit;\n    }\n'])));var Ke=function(){var e=Object(A.useState)(!1),t=Object(X.a)(e,2),n=t[0],r=t[1],c=Object(A.useState)(!1),a=Object(X.a)(c,2),i=a[0],o=a[1],s=Object(A.useState)(null),u=Object(X.a)(s,2),b=u[0],d=u[1];Object(A.useEffect)((function(){Object(Z.f)(J,(function(e){e?(d({uid:e.uid,photoUrl:e.photoURL?e.photoURL:"https://img1.daumcdn.net/thumb/R1280x0.fjpg/?fname=http://t1.daumcdn.net/brunch/service/user/7r5X/image/9djEiPBPMLu_IvCYyvRPwmZkM1g.jpg",displayName:e.displayName?e.displayName:e.email.split("@")[0]}),o(!0)):(d(null),o(!1)),r(!0)}))}),[]);var l=function(){var e=Object(D.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.currentUser;case 2:t=e.sent,d(t?{uid:t.uid,photoUrl:t.photoURL?t.photoURL:"https://img1.daumcdn.net/thumb/R1280x0.fjpg/?fname=http://t1.daumcdn.net/brunch/service/user/7r5X/image/9djEiPBPMLu_IvCYyvRPwmZkM1g.jpg",displayName:t.displayName?t.displayName:t.email.split("@")[0]}:null);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)(We,{}),n?Object(pe.jsx)(Je,{refreshUser:l,userObj:b,isLoggedIn:i}):Object(pe.jsx)("span",{children:"Loading..."})]})};F.a.render(Object(pe.jsx)(Ke,{}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.45a3324f.chunk.js.map